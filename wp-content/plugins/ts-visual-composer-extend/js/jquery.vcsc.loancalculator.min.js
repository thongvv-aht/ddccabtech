var TS_VCSC_Loan_TermValues=[-1,12,24,36,48,60,84,120,180,240,300],TS_VCSC_Loan_TermStrings=["fixed_match",1,2,3,4,5,7,10,15,20,25],TS_VCSC_Loan_PeriodBetween=[7,14,0,0,0,0,0],TS_VCSC_Loan_PeriodValues=[-1,-2,24,12,4,2,1],TS_VCSC_Loan_PeriodStrings=["period_weekly","period_biweekly","period_semimonthly","period_monthly","period_quarterly","period_semiannually","period_annually"],TS_VCSC_Loan_CompoundValues=[-1,12,4,2,1],TS_VCSC_Loan_CompoundStrings=["compound_simple","compound_month","compound_quarter","compound_semiannual","compound_annual"],TS_VCSC_Loan_ChartObjects=[],TS_VCSC_Loan_TableObjects=[];!function(){function t(t,a,e,l){if(t.hasClass("ts-loan-calculator-currently-hidden")&&0==a)return!1;if(t.hasClass("ts-loan-calculator-currently-hidden")||0!=a){if(t.hasClass("ts-loan-calculator-currently-hidden")&&1==a);else if(!t.hasClass("ts-loan-calculator-currently-hidden")&&1==a)return!1}else;e||(e=500),0==e?a?t.show():t.hide():t.toggleClass("ts-loan-calculator-currently-hidden").animate({opacity:"toggle",height:"toggle"},e,function(){"function"!=typeof l&&(l=function(){}),l.call(this)})}function a(t){return d=new Date,d.setFullYear(t,1,29),1==d.getMonth()?366:365}function e(t){return Math.round(100*t)/100}function l(t){var a=t.getMonth(),e=t.getDate();a+=1;var l="",n="";return 10>a&&(l="0"),10>e&&(n="0"),t.getFullYear()+"-"+l+a+"-"+n+e}function n(t,a){var e=-1;for(i=0;i<t.length;i++)t[i].identifier==a&&(e=i);return e}function r(){if("function"==typeof Event)window.dispatchEvent(new Event("resize"));else{var t=window.document.createEvent("UIEvents");t.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(t)}}function s(t,a,e,l,n){return(void 0==t||"undefined"==t||""==t)&&(t=0),(void 0==e||"undefined"==e||""==e)&&(e=void 0),(void 0==l||"undefined"==l||""==l)&&(l="decimal"),(void 0==n||"undefined"==n||""==n)&&(n="USD"),t.toLocaleString(e,{style:l,currency:n,minimumFractionDigits:a,maximumFractionDigits:a})}function c(t){var a=t.find(".ts-loan-calculator-baseline-years").prop("checked"),e=t.find(".ts-loan-calculator-baseline-payment").prop("checked"),l=!0,n=parseFloat(t.find(".ts-loan-calculator-input-principal").val());""==n||0==n||0>n||isNaN(n)?(l=!1,t.find(".ts-loan-calculator-error-principal").fadeIn(250)):t.find(".ts-loan-calculator-error-principal").fadeOut(250);var r=parseFloat(t.find(".ts-loan-calculator-input-interest").val());""==r||0==r||0>r||isNaN(r)?(l=!1,t.find(".ts-loan-calculator-error-interest").fadeIn(250)):t.find(".ts-loan-calculator-error-interest").fadeOut(250);var i=parseFloat(t.find(".ts-loan-calculator-input-years").val());a&&(""==i||0==i||0>i||isNaN(i))?(l=!1,t.find(".ts-loan-calculator-error-years").fadeIn(250)):t.find(".ts-loan-calculator-error-years").fadeOut(250);var s=parseFloat(t.find(".ts-loan-calculator-input-payment").val());e&&(""==s||0==s||0>s||isNaN(s))?(l=!1,t.find(".ts-loan-calculator-error-payment").fadeIn(250)):t.find(".ts-loan-calculator-error-payment").fadeOut(250);var c=t.find(".ts-loan-calculator-input-datepicker").val();""!=c&&c.match(/^\d{4}-\d{2}-\d{2}$/)?t.find(".ts-loan-calculator-error-datepicker").fadeOut(250):(l=!1,t.find(".ts-loan-calculator-error-datepicker").fadeIn(250));var o=parseFloat(t.find(".ts-loan-calculator-input-fixedterm").find(":selected").attr("value"))/12;return(o==i||o>i)&&(t.find(".ts-loan-calculator-input-fixedterm").find(":selected").removeAttr("selected").prop("selected",!1),t.find(".ts-loan-calculator-input-fixedterm").find(":first").attr("selected","selected").prop("selected",!0).trigger("change")),l}function o(t,a){t.find(".ts-loan-calculator-title-results").fadeOut(250),t.find(".ts-loan-calculator-section-results").fadeOut(250);var e=t.find(".ts-loan-calculator-input-chartrender").attr("data-chart-show"),l=t.find(".ts-loan-calculator-chartjs-canvas").attr("id"),r=n(TS_VCSC_Loan_ChartObjects,l,!0);-1!=r&&(TS_VCSC_Loan_ChartObjects[r].object.destroy(),TS_VCSC_Loan_ChartObjects.splice(r,1)),t.find(".ts-loan-calculator-chartjs-canvas").attr("data-initialized","false"),t.find(".ts-loan-calculator-section-chartjs").fadeOut(250),t.find(".ts-loan-calculator-input-chartrender").fadeOut(250).attr("data-chart-visible","false").find("span").text(e),t.find(".ts-loan-calculator-input-chartsave").fadeOut(250);var i=t.find(".ts-loan-calculator-section-schedule"),s=t.find(".ts-loan-calculator-input-schedule").attr("data-schedule-show"),c=t.find(".ts-loan-calculator-schedule-table").attr("id"),o=n(TS_VCSC_Loan_TableObjects,c,!0);return-1!=o&&(i.find(".tablesaw-bar").remove(),i.find(".ts-loan-calculator-schedule-table").data("tablesaw").destroy(),i.find(".ts-loan-calculator-schedule-table").empty().off(),i.find(".ts-loan-calculator-schedule-table").removeClass("tablesaw-sortable").removeClass("tablesaw-swipe"),i.empty(),TS_VCSC_Loan_TableObjects.splice(o,1)),t.find(".ts-loan-calculator-section-schedule").fadeOut(250),t.find(".ts-loan-calculator-input-schedule").fadeOut(250).attr("data-schedule-visible","false").find("span").text(s),t.find(".ts-loan-calculator-input-printable").fadeOut(250),t.find(".ts-loan-calculator-input-reset").fadeOut(250),setTimeout(function(){a&&t.perfectScrollbar("update")},500),null}function u(t,r,i,c){var o={day_single:t.attr("data-string-day"),day_plural:t.attr("data-string-days"),month_single:t.attr("data-string-month"),month_plural:t.attr("data-string-months"),year_single:t.attr("data-string-year"),year_plural:t.attr("data-string-years"),unavailable:t.attr("data-string-unavailable"),form_disclaimer:t.find(".ts-loan-calculator-section-disclaimer").html(),form_title:t.find(".ts-loan-calculator-title-variables").text(),fixed_match:t.find(".ts-loan-calculator-input-fixedterm option:eq(0)").text(),schedule_paymdate:t.attr("data-string-paymentdate"),schedule_payminterest:t.attr("data-string-paymentinterest"),schedule_paymprincipal:t.attr("data-string-paymentprincipal"),schedule_paymbalance:t.attr("data-string-paymentbalance"),schedule_accuprincipal:t.attr("data-string-accumulatedprincipal"),schedule_accuinterest:t.attr("data-string-accumulatedinterest"),schedule_accutotal:t.attr("data-string-accumulatedtotal"),chart_title:t.attr("data-chart-title"),chart_balance:t.attr("data-chart-balance"),chart_principal:t.attr("data-chart-principal"),chart_interest:t.attr("data-chart-interest"),chart_combined:t.attr("data-chart-combined"),period_weekly:t.find(".ts-loan-calculator-input-period option:eq(0)").text(),period_biweekly:t.find(".ts-loan-calculator-input-period option:eq(1)").text(),period_semimonthly:t.find(".ts-loan-calculator-input-period option:eq(2)").text(),period_monthly:t.find(".ts-loan-calculator-input-period option:eq(3)").text(),period_quarterly:t.find(".ts-loan-calculator-input-period option:eq(4)").text(),period_semiannually:t.find(".ts-loan-calculator-input-period option:eq(5)").text(),period_annually:t.find(".ts-loan-calculator-input-period option:eq(6)").text(),compound_simple:t.find(".ts-loan-calculator-input-compounding option:eq(0)").text(),compound_month:t.find(".ts-loan-calculator-input-compounding option:eq(1)").text(),compound_quarter:t.find(".ts-loan-calculator-input-compounding option:eq(2)").text(),compound_semiannual:t.find(".ts-loan-calculator-input-compounding option:eq(3)").text(),compound_annual:t.find(".ts-loan-calculator-input-compounding option:eq(4)").text(),summary_loanamount:t.find(".ts-loan-calculator-results-principal").siblings("span").text(),summary_datepayout:t.find(".ts-loan-calculator-results-payout").siblings("span").text(),summary_datefirst:t.find(".ts-loan-calculator-results-datesfirst").siblings("span").text(),summary_datelast:t.find(".ts-loan-calculator-results-dateslast").siblings("span").text(),summary_termfull:t.find(".ts-loan-calculator-results-termsfull").siblings("span").text(),summary_termfixed:t.find(".ts-loan-calculator-results-termsfixed").siblings("span").text(),summary_interestrate:t.find(".ts-loan-calculator-results-interestrate").siblings("span").text(),summary_frequency:t.find(".ts-loan-calculator-results-frequency").siblings("span").text(),summary_compounding:t.find(".ts-loan-calculator-results-compounding").siblings("span").text(),summary_paymentcount:t.find(".ts-loan-calculator-results-paymentsnumber").siblings("span").text(),summary_paymentfirst:t.find(".ts-loan-calculator-results-paymentsfirst").siblings("span").text(),summary_paymentlast:t.find(".ts-loan-calculator-results-paymentslast").siblings("span").text(),summary_paymenttotal:t.find(".ts-loan-calculator-results-paymentstotal").siblings("span").text(),summary_paymentinterest:t.find(".ts-loan-calculator-results-paymentsinterest").siblings("span").text(),summary_paymentprincipal:t.find(".ts-loan-calculator-results-paymentsprincipal").siblings("span").text(),summary_remaining:t.find(".ts-loan-calculator-results-remaining").siblings("span").text(),printable_title:t.attr("data-printable-title"),printable_button:t.attr("data-printable-button")},d={global:[{currency:t.attr("data-global-currency"),locale:t.attr("data-global-locale"),thousand:t.attr("data-global-thousand"),million:t.attr("data-global-million")}],coredata:[],accumulated:[],payments:[],textstrings:o},u=[],m=t.find(".ts-loan-calculator-baseline-payment").prop("checked");u.push(m);var h=t.find(".ts-loan-calculator-baseline-years").prop("checked");u.push(h);var y=t.find(".ts-loan-calculator-baseline-principal").prop("checked");if(u.push(y),u=u.filter(function(t){return t===!0}).length,0==u)return!1;u>1&&(m=!0,h=!1,y=!1);var _=0,b=0,w=0;if(m){if(_=parseFloat(t.find(".ts-loan-calculator-input-principal").val()),w=parseFloat(t.find(".ts-loan-calculator-input-years").val()),""==_||0==_||isNaN(_)||""==w||0==w||isNaN(w))return!1}else if(h){if(_=parseFloat(t.find(".ts-loan-calculator-input-principal").val()),b=parseFloat(t.find(".ts-loan-calculator-input-payment").val()),""==_||0==_||isNaN(_)||""==b||0==b||isNaN(b))return!1}else if(y&&(w=parseFloat(t.find(".ts-loan-calculator-input-years").val()),b=parseFloat(t.find(".ts-loan-calculator-input-payment").val()),""==w||0==w||isNaN(w)||""==b||0==b||isNaN(b)))return!1;var g=parseFloat(t.find(".ts-loan-calculator-input-interest").val())/100;if(""==g||0==g||isNaN(g))return!1;var v=parseFloat(t.find(".ts-loan-calculator-input-fixedterm").find(":selected").index()),x=TS_VCSC_Loan_TermValues[v],C=parseFloat(t.find(".ts-loan-calculator-input-period").find(":selected").index()),S=TS_VCSC_Loan_PeriodValues[C],j=TS_VCSC_Loan_PeriodStrings[C];j=d.textstrings[j];var T=parseFloat(t.find(".ts-loan-calculator-input-compounding").find(":selected").index()),V=TS_VCSC_Loan_CompoundValues[T],k=TS_VCSC_Loan_CompoundStrings[T];k=d.textstrings[k];var F=TS_VCSC_Loan_PeriodBetween[C],O=S;(-1==S||-2==S)&&(O=a(2005)/F);var L=parseFloat(t.find(".ts-loan-calculator-input-startyear").val()),R=parseFloat(t.find(".ts-loan-calculator-input-startmonth").val()),Q=parseFloat(t.find(".ts-loan-calculator-input-startday").val()),D=-1==V?1+g/O:Math.pow(1+g/V,V/O);if(m)var q=_*(D-1)/(1-Math.pow(D,-(w*O)));else var q=b;_=y?q*(1-Math.pow(D,-(w*O)))/(D-1):_;var M=_,N=0,I=0,W=0,z=0,P=Number(0),E=0,A=0,Y=new Date,B=new Date;B.setFullYear(L,R-1,Q),B.getDate()>28&&12==S?(B.setDate(28),t.find(".ts-loan-calculator-notice-startdate").fadeIn(250)):t.find(".ts-loan-calculator-notice-startdate").fadeOut(250),24==S?(t.find(".ts-loan-calculator-notice-semimonthly").fadeIn(250),B.getDate()<17?B.setDate(16):(B.setDate(1),B.setMonth(B.getMonth()+1))):t.find(".ts-loan-calculator-notice-semimonthly").fadeOut(250),Y=new Date(B.valueOf());var U=new Date(B.valueOf());U.setMonth(U.getMonth()+x);for(var H=0;0!=M;){if(H++,1==S?Y.setMonth(Y.getMonth()+12):2==S?Y.setMonth(Y.getMonth()+6):4==S?Y.setMonth(Y.getMonth()+3):12==S?Y.setMonth(Y.getMonth()+1):24==S?16==Y.getDate()?(Y.setMonth(Y.getMonth()+1),Y.setDate(1)):Y.setDate(16):Y.setTime(Y.getTime()+864e5*F),(-1==S||-2==S)&&(O=a(Y.getYear())/F),N=-1==V?M*g/O:(Math.pow(1+g/V,V/O)-1)*M,N>=q)return t.find(".ts-loan-calculator-notice-insufficient").fadeIn(250),!1;t.find(".ts-loan-calculator-notice-insufficient").fadeOut(250),W+=N,I=q-N,z+I>_?(I=_-z,E=I+N,P+=E):(P+=q,E=I+N),z+=I,M-=I,1e-4>M&&(M=0);var $=e((Y-B)/315576e5);if(d.payments.push({payment_number:H,payment_date:l(Y),payment_principal:I,payment_interest:N,accumulated_principal:z,accumulated_interest:W,accumulated_total:P,loan_balance:M}),1==H&&(FirstPaymentDate=new Date(Y.valueOf())),Y>=U&&x>0&&0==A||-1==x&&0==M||b>0&&m&&0==M){A=M;var G=H,J=E,K=new Date(Y.valueOf()),X=P,Z=W}}if(h){var ta="years";if(-1==x||x/12>$)var aa=12*$;else var aa=x}else if(m)var ta="payment",aa=-1==x?12*w:x;else if(y)var ta="principal",aa=-1==x?12*w:x;return d.coredata.push({principal:_,interest:100*g,"baseline:":ta,years:$,payment:q,paymentlast:J,fixedterm:aa,frequencyvalue:S,frequencystring:j,compoundingvalue:V,compoundingstring:k,origination:B,datefirst:l(FirstPaymentDate),datelast:l(K)}),d.accumulated.push({principal:X-Z,interest:Z,combined:X,remaining:A,payments:G}),t.find(".ts-loan-calculator-input-printable").fadeIn(250),t.find(".ts-loan-calculator-input-schedule").fadeIn(250),t.find(".ts-loan-calculator-input-reset").fadeIn(250),t.find(".ts-loan-calculator-results-principal").html(s(_,2)),t.find(".ts-loan-calculator-results-payout").html(l(B)),t.find(".ts-loan-calculator-results-termsfull").html($+" "+($>1?o.year_plural:o.year_single)),t.find(".ts-loan-calculator-results-interestrate").html(s(100*g,2)+"%"),t.find(".ts-loan-calculator-results-frequency").html(j),t.find(".ts-loan-calculator-results-compounding").html(k),t.find(".ts-loan-calculator-results-termsfixed").html(aa/12+" "+(aa/12>1?o.year_plural:o.year_single)),t.find(".ts-loan-calculator-results-paymentsnumber").html(G),t.find(".ts-loan-calculator-results-paymentsfirst").html(s(q,2)),t.find(".ts-loan-calculator-results-datesfirst").html(l(FirstPaymentDate)),t.find(".ts-loan-calculator-results-paymentslast").html(s(J,2)),t.find(".ts-loan-calculator-results-dateslast").html(l(K)),t.find(".ts-loan-calculator-results-remaining").html(s(A,2)),t.find(".ts-loan-calculator-results-paymentstotal").html(s(X,2)+" ("+s(100,2)+"%)"),t.find(".ts-loan-calculator-results-paymentsinterest").html(s(Z,2)+" ("+s(e(100*Z/X),2)+"%)"),t.find(".ts-loan-calculator-results-paymentsprincipal").html(s(X-Z,2)+" ("+s(100-e(100*Z/X),2)+"%)"),t.find(".ts-loan-calculator-title-results").fadeIn(250),t.find(".ts-loan-calculator-section-results").fadeIn(250),i?t.find(".ts-loan-calculator-input-chartrender").fadeIn(250):(t.find(".ts-loan-calculator-input-chartrender").fadeOut(250),t.find(".ts-loan-calculator-input-chartsave").fadeOut(250)),i&&-1!=n(TS_VCSC_Loan_ChartObjects,t.find(".ts-loan-calculator-chartjs-canvas").attr("id"),!0)&&f(t,d,r,c),i&&-1!=n(TS_VCSC_Loan_TableObjects,t.find(".ts-loan-calculator-schedule-table").attr("id"),!0)&&p(t,d,r,c),c&&t.perfectScrollbar("update"),d}function p(t,a,e,l){if(""==a||null==a||0==a.length)return!1;var i=t.find(".ts-loan-calculator-section-schedule"),c=i.prop("attributes"),o=null,d=t.attr("data-global-randomizer"),u="ts-loan-calculator-schedule-table-"+d,p=n(TS_VCSC_Loan_TableObjects,u,!0);-1!=p&&(i.find(".tablesaw-bar").remove(),i.find(".ts-loan-calculator-schedule-table").data("tablesaw").destroy(),i.find(".ts-loan-calculator-schedule-table").empty().off(),i.find(".ts-loan-calculator-schedule-table").removeClass("tablesaw-sortable").removeClass("tablesaw-swipe"),i.empty(),TS_VCSC_Loan_TableObjects.splice(p,1));var m=0,f={year:0,interest:0,principal:0,balance:0,accumulated_principal:0,accumulated_interest:0,accumulated_total:0},h="";h+='<table id="ts-loan-calculator-schedule-table-'+d+'" class="ts-loan-calculator-schedule-table tablesaw">',h+="<thead>",h+="<tr>",h+='<th data-tablesaw-priority="persist" data-tablesaw-sortable-col data-tablesaw-sortable-default-col data-tablesaw-sortable-numeric>'+a.textstrings.year_single+"</th>",h+="<th data-tablesaw-sortable-numeric>"+a.textstrings.schedule_payminterest+"</th>",h+="<th data-tablesaw-sortable-numeric>"+a.textstrings.schedule_paymprincipal+"</th>",h+="<th data-tablesaw-sortable-numeric>"+a.textstrings.schedule_paymbalance+"</th>",h+="<th data-tablesaw-sortable-numeric>"+a.textstrings.schedule_accuprincipal+"</th>",h+="<th data-tablesaw-sortable-numeric>"+a.textstrings.schedule_accuinterest+"</th>",h+="<th data-tablesaw-sortable-numeric>"+a.textstrings.schedule_accutotal+"</th>",h+="</tr>",h+="</thead>",h+="<tbody>";for(var y=1;y<=a.coredata[0].fixedterm/12;y++)m=y*a.coredata[0].frequencyvalue-1,f={year:y,interest:a.payments[m].accumulated_interest-f.accumulated_interest,principal:a.payments[m].accumulated_principal-f.accumulated_principal,balance:a.payments[m].loan_balance,accumulated_principal:a.payments[m].accumulated_principal,accumulated_interest:a.payments[m].accumulated_interest,accumulated_total:a.payments[m].accumulated_total},h+="<tr>",h+="<td>"+y+"</td>",h+="<td>"+s(f.interest,2)+"</td>",h+="<td>"+s(f.principal,2)+"</td>",h+="<td>"+s(f.balance,2)+"</td>",h+="<td>"+s(a.payments[m].accumulated_principal,2)+"</td>",h+="<td>"+s(a.payments[m].accumulated_interest,2)+"</td>",h+="<td>"+s(a.payments[m].accumulated_total,2)+"</td>",h+="</tr>";h+="</tbody>",h+="</table>",i.empty().html(h),jQuery.each(c,function(){"id"!=this.name&&"class"!=this.name&&"style"!=this.name&&i.find(".ts-loan-calculator-schedule-table").attr(this.name,this.value)}),i.fadeIn(250,function(){o=i.trigger("enhance.tablesaw"),TS_VCSC_Loan_TableObjects.push({identifier:u,object:o}),i.find(".ts-loan-calculator-schedule-table").addClass("ts-loan-calculator-schedule-visible"),l&&t.perfectScrollbar("update"),r()})}function m(t,a){if(""==a||null==a||0==a.length)return!1;null!=C&&C.close();var n=t.attr("data-printable-image"),r="true"==t.attr("data-printable-summary")?!0:!1,i="true"==t.attr("data-printable-chart")?!0:!1,c=t.find(".ts-loan-calculator-chartjs-canvas").attr("id"),o="true"==t.attr("data-printable-table")?!0:!1,d="true"==t.attr("data-printable-annual")?!0:!1,u="true"==t.attr("data-printable-disclaimer")?!0:!1,p="true"==t.attr("data-origination-use")?!0:!1,m="true"==t.attr("data-frequency-use")?!0:!1,f="true"==t.attr("data-compounding-use")?!0:!1,y="true"==t.attr("data-fixed-use")?!0:!1,_=a.textstrings.year_single,b=a.textstrings.year_plural,w=0,g={year:0,interest:0,principal:0,balance:0,accumulated_principal:0,accumulated_interest:0,accumulated_total:0},v=a.textstrings.printable_title,x=a.textstrings.form_disclaimer,C=window.open("",v),S=C.document;if(S.write('<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>'),S.write('<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>'),S.write("<title>"+v+"</title>"),S.write('<link rel="stylesheet" type="text/css" media="all" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/>'),S.write('<link rel="stylesheet" type="text/css" media="all" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/>'),S.write('<style type="text/css">'),S.write("body {"),S.write("background: #ffffff; font-family: Verdana; font-size: 13px; padding: 20px; margin: 0 auto;"),S.write("}"),S.write("#ts-loan-calculator-schedule-print {"),S.write("display: block; margin: 0 0 20px 0;"),S.write("}"),S.write("@media print {"),S.write("#ts-loan-calculator-schedule-print {"),S.write("display: none !important;"),S.write("}"),S.write("}"),S.write("#ts-loan-calculator-schedule-logo {"),S.write("display: block; padding: 0; margin: 0 0 20px 0; width: auto; height: auto; max-width: 100%; max-width: 400px; clear: both;"),S.write("}"),S.write("#ts-loan-calculator-schedule-disclaimer {"),S.write("display: block; padding: 0; margin: 0 0 20px 0; font-size: 11px; font-style: italic; line-height: 1.2; text-align: justify;"),S.write("}"),S.write("#ts-loan-calculator-schedule-summary {"),S.write("display: block; width: 100%;"),S.write("}"),S.write("#ts-loan-calculator-schedule-summary .ts-loan-calculator-schedule-line {"),S.write("display: block; width: 100%;"),S.write("}"),S.write("#ts-loan-calculator-schedule-summary .ts-loan-calculator-schedule-line span {"),S.write("display: inline-block;"),S.write("}"),S.write("#ts-loan-calculator-schedule-summary .ts-loan-calculator-schedule-line span:first-of-type {"),S.write("width: 250px; text-align: left; vertical-align: top;"),S.write("}"),S.write("#ts-loan-calculator-schedule-summary .ts-loan-calculator-schedule-line span:last-of-type {"),S.write("width: 150px; text-align: right; vertical-align: top;"),S.write("}"),S.write("#ts-loan-calculator-schedule-chart {"),S.write("display: block; padding: 0; margin: 20px 0 20px 0; width: auto; height: auto; max-height: 400px; clear: both;"),S.write("}"),S.write("#ts-loan-calculator-schedule-table {"),S.write("font-family: Verdana; font-size: 13px; width: 100%; margin: 30px 0 0 0; padding: 0;"),S.write("}"),S.write("#ts-loan-calculator-schedule-table thead, #ts-loan-calculator-schedule-table tfoot,"),S.write("display: table-header-group;"),S.write("}"),S.write("#ts-loan-calculator-schedule-table thead tr th {"),S.write("text-align: center;"),S.write("}"),S.write("#ts-loan-calculator-schedule-table tbody tr td {"),S.write("text-align: right; min-width: 100px;"),S.write("}"),S.write("#ts-loan-calculator-schedule-table thead tr th.center, #ts-loan-calculator-schedule-table tbody tr td.center {"),S.write("text-align: center;"),S.write("}"),S.write("</style>"),S.write('<button id="ts-loan-calculator-schedule-print" class="btn btn-success" onclick="window.print();">'+a.textstrings.printable_button+"</button>"),""!=n&&S.write('<img id="ts-loan-calculator-schedule-logo" src="'+n+'",>'),S.write("<h2>"+v+"</h2>"),u&&""!=x&&(S.write('<div id="ts-loan-calculator-schedule-disclaimer">'),S.write(t.find(".ts-loan-calculator-section-disclaimer").text()),S.write("</div>")),r&&(S.write('<div id="ts-loan-calculator-schedule-summary">'),S.write('<div class="ts-loan-calculator-schedule-line">'),S.write("<span>"+a.textstrings.summary_loanamount+"</span>"),S.write("<span>"+s(a.coredata[0].principal,2)+"</span>"),S.write("</div>"),p&&(S.write('<div class="ts-loan-calculator-schedule-line">'),S.write("<span>"+a.textstrings.summary_datepayout+"</span>"),S.write("<span>"+l(a.coredata[0].origination)+"</span>"),S.write("</div>")),S.write('<div class="ts-loan-calculator-schedule-line">'),S.write("<span>"+a.textstrings.summary_termfull+"</span>"),S.write("<span>"+a.coredata[0].years+" "+(a.coredata[0].years>1?b:_)+"</span>"),S.write("</div>"),S.write('<div class="ts-loan-calculator-schedule-line">'),S.write("<span>"+a.textstrings.summary_interestrate+"</span>"),S.write("<span>"+s(a.coredata[0].interest,2)+"%</span>"),S.write("</div>"),m&&(S.write('<div class="ts-loan-calculator-schedule-line">'),S.write("<span>"+a.textstrings.summary_frequency+"</span>"),S.write("<span>"+a.coredata[0].frequencystring+"</span>"),S.write("</div>")),f&&(S.write('<div class="ts-loan-calculator-schedule-line">'),S.write("<span>"+a.textstrings.summary_compounding+"</span>"),S.write("<span>"+a.coredata[0].compoundingstring+"</span>"),S.write("</div>")),y&&(S.write('<div class="ts-loan-calculator-schedule-line">'),S.write("<span>"+a.textstrings.summary_termfixed+"</span>"),S.write("<span>"+a.coredata[0].fixedterm/12+" "+(a.coredata[0].fixedterm/12>1?b:_)+"</span>"),S.write("</div>"),S.write('<div class="ts-loan-calculator-schedule-line">'),S.write("<span>"+a.textstrings.summary_paymentcount+"</span>"),S.write("<span>"+s(a.accumulated[0].payments,0)+"</span>"),S.write("</div>")),S.write('<div class="ts-loan-calculator-schedule-line">'),S.write("<span>"+a.textstrings.summary_paymentfirst+"</span>"),S.write("<span>"+s(a.coredata[0].payment,2)+"</span>"),S.write("</div>"),p&&(S.write('<div class="ts-loan-calculator-schedule-line">'),S.write("<span>"+a.textstrings.summary_datefirst+"</span>"),S.write("<span>"+a.coredata[0].datefirst+"</span>"),S.write("</div>")),S.write('<div class="ts-loan-calculator-schedule-line">'),S.write("<span>"+a.textstrings.summary_paymentlast+"</span>"),S.write("<span>"+s(a.coredata[0].paymentlast,2)+"</span>"),S.write("</div>"),p&&(S.write('<div class="ts-loan-calculator-schedule-line">'),S.write("<span>"+a.textstrings.summary_datelast+"</span>"),S.write("<span>"+a.coredata[0].datelast+"</span>"),S.write("</div>")),S.write('<div class="ts-loan-calculator-schedule-line">'),S.write("<span>"+a.textstrings.summary_remaining+"</span>"),S.write("<span>"+s(a.accumulated[0].remaining,2)+"</span>"),S.write("</div>"),S.write('<div class="ts-loan-calculator-schedule-line">'),S.write("<span>"+a.textstrings.summary_paymenttotal+"</span>"),S.write("<span>"+s(a.accumulated[0].combined,2)+" ("+s(100,2)+"%)</span>"),S.write("</div>"),S.write('<div class="ts-loan-calculator-schedule-line">'),S.write("<span>"+a.textstrings.summary_paymentinterest+"</span>"),S.write("<span>"+s(a.accumulated[0].interest,2)+" ("+s(e(100*a.accumulated[0].interest/a.accumulated[0].combined),2)+"%)</span>"),S.write("</div>"),S.write('<div class="ts-loan-calculator-schedule-line">'),S.write("<span>"+a.textstrings.summary_paymentprincipal+"</span>"),S.write("<span>"+s(a.accumulated[0].principal,2)+" ("+s(100-e(100*a.accumulated[0].interest/a.accumulated[0].combined),2)+"%)</span>"),S.write("</div>"),S.write("</div>")),i&&"true"==t.find("#"+c).attr("data-initialized")&&(c=h(c,!1),""!=c&&S.write('<img id="ts-loan-calculator-schedule-chart" src="'+c+'"/>')),o){if(S.write('<table id="ts-loan-calculator-schedule-table" class="table table-striped table-condensed table-responsive" border="0" cellspacing="3" cellpadding="1" width="100%" cols="8">'),S.write("<thead>"),S.write("<tr>"),S.write('<th class="center">'+(d?a.textstrings.year_single:"#")+"</th>"),d||S.write('<th class="center">'+a.textstrings.schedule_paymdate+"</th>"),S.write('<th class="center">'+a.textstrings.schedule_payminterest+"</th>"),S.write('<th class="center">'+a.textstrings.schedule_paymprincipal+"</th>"),S.write('<th class="center">'+a.textstrings.schedule_paymbalance+"</th>"),S.write('<th class="center">'+a.textstrings.schedule_accuprincipal+"</th>"),S.write('<th class="center">'+a.textstrings.schedule_accuinterest+"</th>"),S.write('<th class="center">'+a.textstrings.schedule_accutotal+"</th>"),S.write("</tr>"),S.write("</thead>"),S.write("<tbody>"),d)for(var j=1;j<=a.coredata[0].fixedterm/12;j++)w=j*a.coredata[0].frequencyvalue-1,g={year:j,interest:a.payments[w].accumulated_interest-g.accumulated_interest,principal:a.payments[w].accumulated_principal-g.accumulated_principal,balance:a.payments[w].loan_balance,accumulated_principal:a.payments[w].accumulated_principal,accumulated_interest:a.payments[w].accumulated_interest,accumulated_total:a.payments[w].accumulated_total},S.write("<tr>"),S.write('<td class="center">'+j+"</td>"),S.write("<td>"+s(g.interest,2)+"</td>"),S.write("<td>"+s(g.principal,2)+"</td>"),S.write("<td>"+s(g.balance,2)+"</td>"),S.write("<td>"+s(a.payments[w].accumulated_principal,2)+"</td>"),S.write("<td>"+s(a.payments[w].accumulated_interest,2)+"</td>"),S.write("<td>"+s(a.payments[w].accumulated_total,2)+"</td>"),S.write("</tr>");else jQuery.each(a.payments,function(t,a){S.write("<tr>"),S.write('<td class="center">'+a.payment_number+"</td>"),S.write('<td class="center">'+a.payment_date+"</td>"),S.write("<td>"+s(a.payment_interest,2)+"</td>"),S.write("<td>"+s(a.payment_principal,2)+"</td>"),S.write("<td>"+s(a.loan_balance,2)+"</td>"),S.write("<td>"+s(a.accumulated_principal,2)+"</td>"),S.write("<td>"+s(a.accumulated_interest,2)+"</td>"),S.write("<td>"+s(a.accumulated_total,2)+"</td>"),S.write("</tr>")});S.write("</tbody>"),S.write("</table>")}S.close()}function f(t,a,l,r){var i=t.find(".ts-loan-calculator-section-chartjs");i.fadeIn(250);var c=t.find(".ts-loan-calculator-chartjs-canvas").attr("id"),o=n(TS_VCSC_Loan_ChartObjects,c,!0);-1!=o&&(TS_VCSC_Loan_ChartObjects[o].object.destroy(),TS_VCSC_Loan_ChartObjects.splice(o,1));for(var d=document.getElementById(c),u=[],p=1;p<=a.coredata[0].fixedterm/12;p++)u.push(""+p);for(var m={type:"line",label:a.textstrings.chart_balance,data:[],backgroundColor:"rgba(160, 160, 160, 0.01)",borderWidth:3,borderColor:"#a0a0a0",fill:!1,pointRadius:2,pointHoverRadius:2},f={type:"line",label:a.textstrings.chart_principal,data:[],backgroundColor:"rgba(22, 160, 133, 0.33)",borderWidth:3,borderColor:"#16a085",fill:!0,pointRadius:2,pointHoverRadius:2},h={type:"line",label:a.textstrings.chart_interest,data:[],backgroundColor:"rgba(237, 111, 111, 0.33)",borderWidth:3,borderColor:"#ed6f6f",fill:!0,pointRadius:2,pointHoverRadius:2},y={type:"line",label:a.textstrings.chart_combined,data:[],backgroundColor:"rgba(252, 173, 38, 0.33)",borderWidth:3,borderColor:"#fcad26",fill:!0,pointRadius:2,pointHoverRadius:2},_=0,b=1;b<=a.coredata[0].fixedterm/12;b++)_=b*a.coredata[0].frequencyvalue-1,m.data.push(e(a.payments[_].loan_balance)),f.data.push(e(a.payments[_].accumulated_principal)),h.data.push(e(a.payments[_].accumulated_interest)),y.data.push(e(a.payments[_].accumulated_total));var w=a.payments.length-1;Math.ceil(a.coredata[0].fixedterm/12)!=a.coredata[0].fixedterm/12&&(u.push(""+Math.ceil(a.coredata[0].fixedterm/12)),m.data.push(e(a.payments[w].loan_balance)),f.data.push(e(a.payments[w].accumulated_principal)),h.data.push(e(a.payments[w].accumulated_interest)),y.data.push(e(a.payments[w].accumulated_total)));var g=Math.ceil(a.coredata[0].fixedterm/12)/2;g%2==0&&g++;var v=new Chart(d,{type:"line",data:{labels:u,datasets:[m,f,h,y]},options:{responsive:!0,maintainAspectRatio:!1,title:{display:!0,text:a.textstrings.chart_title},tooltips:{enabled:"none"==t.attr("data-chart-tooltips")?!1:!0,mode:t.attr("data-chart-tooltips"),intersect:!0,callbacks:{title:function(t){return a.textstrings.year_single+": "+t[0].xLabel},label:function(t,a){return[" "+a.datasets[t.datasetIndex].label+": "+s(t.yLabel,2)]}}},scales:{xAxes:[{display:!0,ticks:{display:!0,maxTicksLimit:g}}],yAxes:[{display:!0,ticks:{display:!0,callback:function(t){return s(t,0)}}}]}}});-1==o&&t.find(".ts-loan-calculator-chartjs-canvas").attr("data-initialized","true"),t.find(".ts-loan-calculator-input-chartsave").fadeIn(250),TS_VCSC_Loan_ChartObjects.push({identifier:c,object:v}),r&&t.perfectScrollbar("update")}function h(t,a){var e=document.getElementById(t),l=new Image;return l.src=e.toDataURL("image/png"),a?void window.open(l.src):l.src}Number.prototype.toFixed||(Number.prototype.toFixed=function(t){(isNaN(t*=1)||0>t||t>20)&&(t=0);var a="",e=this.valueOf(),l="";if(0>this&&(a="-",e*=-1),e>=Math.pow(10,21))l=e.toString();else if(l=Math.round(Math.pow(10,t)*e).toString(),0!=t){var n=l.length;if(t>=n){var r="00000000000000000000".substring(0,t+1-n);l=r+l,n=t+1}var i=l.substring(0,n-t),s=l.substring(n-t);l=i+"."+s}return"0"==l&&(a=""),a+l}),jQuery(document).ready(function(){jQuery(".ts-loan-calculator-main-wrapper").each(function(){var a=jQuery(this),e=(a.attr("data-global-randomizer"),a.attr("data-global-currency")),l=(a.attr("data-global-locale"),a.attr("data-global-thousand")),n=a.attr("data-global-million"),r="rtl"==jQuery("html").attr("dir")||jQuery("html").hasClass("rtl")?!0:!1,i=null,d="true"==a.attr("data-scrollable-usage")?!0:!1,y="true"==a.attr("data-scrollable-pretty")?!0:!1,_=d&&y?!0:!1;_&&a.perfectScrollbar({minScrollbarLength:50}),a.find(".ts-loan-calculator-baseline-checkbox").find("label").on("click",function(e){e.preventDefault(),e.stopPropagation();var l=jQuery(this).parent().attr("data-baseline"),n=jQuery("#"+jQuery(this).parent().attr("data-counter-one")),r=jQuery("#"+jQuery(this).parent().attr("data-counter-two")),i=jQuery(this).siblings(".ts-loan-calculator-baseline-checkbox"),s=i.prop("disabled"),c=i.prop("checked");return s?!1:(c||(i.attr("checked","checked").prop("checked",!0).val("1").attr("value","1"),n.removeAttr("checked").prop("checked",!1).val("0").attr("value","0"),r.removeAttr("checked").prop("checked",!1).val("0").attr("value","0")),"years"==l?(t(a.find(".ts-loan-calculator-section-years"),!1,0),t(a.find(".ts-loan-calculator-section-payment"),!0,500),R&&D.TS_VCSC_jRange("setWidth",D.parent().width()),t(a.find(".ts-loan-calculator-section-principal"),!0,500),w&&b.TS_VCSC_jRange("setWidth",b.parent().width())):"payment"==l?(t(a.find(".ts-loan-calculator-section-payment"),!1,0),t(a.find(".ts-loan-calculator-section-years"),!0,500),T&&O.TS_VCSC_jRange("setWidth",O.parent().width()),t(a.find(".ts-loan-calculator-section-principal"),!0,500),w&&b.TS_VCSC_jRange("setWidth",b.parent().width())):"principal"==l&&(t(a.find(".ts-loan-calculator-section-principal"),!1,0),t(a.find(".ts-loan-calculator-section-years"),!0,500),T&&O.TS_VCSC_jRange("setWidth",O.parent().width()),t(a.find(".ts-loan-calculator-section-payment"),!0,500),R&&D.TS_VCSC_jRange("setWidth",D.parent().width())),void(_&&a.perfectScrollbar("update")))
});var b=a.find(".ts-loan-calculator-input-principal"),w="true"==a.find(".ts-loan-calculator-section-principal").attr("data-slider")?!0:!1,g=a.find(".ts-loan-calculator-section-principal").attr("data-scales"),v=b.val();w&&(b.TS_VCSC_jRange({from:parseFloat(b.attr("min")),to:parseFloat(b.attr("max")),step:parseFloat(b.attr("step")),scale:g.split("|"),format:function(t){return 0==t?s(t,0):t>=1e6?s(t/1e6,1)+n:t>=1e3?s(t/1e3,1)+l:s(t,2)},showLabels:!0,isRange:!1,snap:!1}),b.TS_VCSC_jRange("setWidth",b.parent().width()),jQuery(window).resize(function(){b.TS_VCSC_jRange("setWidth",b.parent().width())}),b.on("change",function(){v=b.TS_VCSC_jRange("getValue"),v!=b.val()&&b.TS_VCSC_jRange("setValue",b.val())}));var x="true"==a.find(".ts-loan-calculator-section-interest").attr("data-slider")?!0:!1,C=a.find(".ts-loan-calculator-section-interest").attr("data-scales"),S=a.find(".ts-loan-calculator-input-interest"),j=S.val();x&&(S.TS_VCSC_jRange({from:parseFloat(S.attr("min")),to:parseFloat(S.attr("max")),step:parseFloat(S.attr("step")),scale:C.split("|"),format:function(t){return t.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})+"%"},showLabels:!0,isRange:!1,snap:!1}),S.TS_VCSC_jRange("setWidth",S.parent().width()),jQuery(window).resize(function(){S.TS_VCSC_jRange("setWidth",S.parent().width())}),S.on("change",function(){j=S.TS_VCSC_jRange("getValue"),j!=S.val()&&S.TS_VCSC_jRange("setValue",S.val())})),S.val(s(j,2));var T="true"==a.find(".ts-loan-calculator-section-years").attr("data-slider")?!0:!1,V=a.find(".ts-loan-calculator-section-years").attr("data-scales"),k=a.find(".ts-loan-calculator-section-years").attr("data-label-single"),F=a.find(".ts-loan-calculator-section-years").attr("data-label-plural"),O=a.find(".ts-loan-calculator-input-years"),L=O.val();T&&(O.TS_VCSC_jRange({from:parseFloat(O.attr("min")),to:parseFloat(O.attr("max")),step:parseFloat(O.attr("step")),scale:V.split("|"),format:function(t){return t+" "+(1==t?k:F)},showLabels:!0,isRange:!1,snap:!1}),O.TS_VCSC_jRange("setWidth",O.parent().width()),jQuery(window).resize(function(){O.TS_VCSC_jRange("setWidth",O.parent().width())}),O.on("change",function(){L=O.TS_VCSC_jRange("getValue"),L!=O.val()&&O.TS_VCSC_jRange("setValue",O.val())}));var R="true"==a.find(".ts-loan-calculator-section-payment").attr("data-slider")?!0:!1,Q=a.find(".ts-loan-calculator-section-payment").attr("data-scales"),D=a.find(".ts-loan-calculator-input-payment"),q=D.val();R&&(D.TS_VCSC_jRange({from:parseFloat(D.attr("min")),to:parseFloat(D.attr("max")),step:parseFloat(D.attr("step")),scale:Q.split("|"),format:function(t){return 0==t?s(t,0):t>=1e6?s(t/1e6,1)+n:t>=1e3?s(t/1e3,1)+l:s(t,2)},showLabels:!0,isRange:!1,snap:!1}),D.TS_VCSC_jRange("setWidth",D.parent().width()),jQuery(window).resize(function(){D.TS_VCSC_jRange("setWidth",D.parent().width())}),D.on("change",function(){q=D.TS_VCSC_jRange("getValue"),q!=D.val()&&D.TS_VCSC_jRange("setValue",D.val())}));var M=a.find(".ts-loan-calculator-section-startdate"),N=M.attr("data-control"),I=M.attr("data-language"),W=M.find(".ts-loan-calculator-input-datepicker"),z=W.val(),P=M.find(".ts-loan-calculator-input-startyear"),E=M.find(".ts-loan-calculator-input-startmonth"),A=M.find(".ts-loan-calculator-input-startday"),Y=!0;if("custom"==N){W.ts_datetimepicker({lang:I,inline:!1,timepicker:!1,format:"Y-m-d",formatDate:"Y-m-d",allowBlank:!0,mask:!0,minDate:0,rtl:r,onShow:function(){},onSelectDate:function(){},onChangeDateTime:function(t,a){z=a.val(),z=z.split("-"),P.val(parseFloat(z[0])),E.val(parseFloat(z[1])),A.val(parseFloat(z[2]))}})}else W.on("change",function(){z=jQuery(this).val(),Y=z.match(/^\d{4}-\d{2}-\d{2}$/),""!=z&&Y?(z=z.split("-"),P.val(parseFloat(z[0])),E.val(parseFloat(z[1])),A.val(parseFloat(z[2]))):(P.val(""),E.val(""),A.val(""))});var B="true"==a.attr("data-chart-usage")?!0:!1,U=a.find(".ts-loan-calculator-input-calculate");U.on("click",function(){c(a)&&(i=u(a,e,B,_))});var H=a.find(".ts-loan-calculator-input-printable");H.on("click",function(){m(a,i,e)});var $=a.find(".ts-loan-calculator-input-schedule");$.on("click",function(){"false"==jQuery(this).attr("data-schedule-visible")?(p(a,i,e,_),jQuery(this).attr("data-schedule-visible","true"),jQuery(this).find("span").text(jQuery(this).attr("data-schedule-hide"))):(jQuery(this).attr("data-schedule-visible","false"),jQuery(this).find("span").text(jQuery(this).attr("data-schedule-show")),a.find(".ts-loan-calculator-section-schedule").fadeOut(250,function(){_&&a.perfectScrollbar("update")}))});var G=a.find(".ts-loan-calculator-input-chartrender");G.on("click",function(){"false"==jQuery(this).attr("data-chart-visible")?(f(a,i,e,_),jQuery(this).attr("data-chart-visible","true"),jQuery(this).find("span").text(jQuery(this).attr("data-chart-hide"))):(jQuery(this).attr("data-chart-visible","false"),jQuery(this).find("span").text(jQuery(this).attr("data-chart-show")),a.find(".ts-loan-calculator-input-chartsave").fadeOut(250),a.find(".ts-loan-calculator-section-chartjs").fadeOut(250,function(){_&&a.perfectScrollbar("update")}))});var J=a.find(".ts-loan-calculator-input-chartsave");J.on("click",function(){h(a.find(".ts-loan-calculator-chartjs-canvas").attr("id"),!0)});var K=a.find(".ts-loan-calculator-input-reset");K.on("click",function(){i=o(a,_)}),_&&a.perfectScrollbar("update")})})}(jQuery);