!function(i){i.fn.TS_VCSC_Pagawa_Slideshow=function(t){var n={mainClassName:"pgwSlideshowDark",transitionEffect:"sliding",displayList:!0,displayControls:!0,displayTitles:!0,listPosition:"bottom",listBreak:480,touchControls:!0,autoSlide:!1,hoverStop:!0,afterSetup:!1,beforeSlide:!1,afterSlide:!1,maxHeight:null,transitionDuration:500,intervalDuration:5e3};if(0==this.length)return this;if(this.length>1)return this.each(function(){i(this).TS_VCSC_Pagawa_Slideshow(t)}),this;var s=this;s.plugin=this,s.config={},s.data=[],s.currentSlide=0,s.slideCount=0,s.resizeEvent=null,s.intervalEvent=null,s.touchFirstPosition=null,s.touchListLastPosition=!1,s.window=i(window);var e=function(i){return s.config.maxHeight&&i+s.plugin.find(".ps-list").height()>s.config.maxHeight&&(i=s.config.maxHeight-s.plugin.find(".ps-list").height()),s.plugin.find(".ps-current").css("height",i),s.config.maxHeight&&s.plugin.find(".ps-current > ul > li img").css("max-height",i+"px"),!0},o=function(){var t=0;return s.plugin.show(),s.plugin.find(".ps-list > ul > li").show().each(function(){t+=i(this).width()}),s.plugin.find(".ps-list > ul").width(t),!0},a=function(){return s.plugin.width()<=parseInt(s.config.listBreak)?s.plugin.addClass("narrow").removeClass("wide"):s.plugin.addClass("wide").removeClass("narrow"),!0},l=function(){if(s.plugin.removeClass("pgwSlideshow").removeClass(s.config.mainClassName),s.plugin.wrap('<div class="ps-list"></div>'),s.plugin=s.plugin.parent(),s.plugin.wrap('<div class="'+s.config.mainClassName+'"></div>'),s.plugin=s.plugin.parent(),"bottom"==s.config.listPosition?s.plugin.prepend('<div class="ps-current"><ul></ul><span class="ps-caption"></span></div>'):"top"==s.config.listPosition&&s.plugin.append('<div class="ps-current"><ul></ul><span class="ps-caption"></span></div>'),s.slideCount=s.plugin.find(".ps-list > ul > li").length,0==s.slideCount)throw new Error("pgwSlideshow - No slider item has been found");s.slideCount>1&&(s.config.displayControls&&(s.plugin.find(".ps-current").prepend('<span class="ps-prev"><span class="ps-prevIcon"></span></span>'),s.plugin.find(".ps-current").append('<span class="ps-next"><span class="ps-nextIcon"></span></span>'),s.plugin.find(".ps-current .ps-prev").click(function(){s.previousSlide()}),s.plugin.find(".ps-current .ps-next").click(function(){s.nextSlide()})),s.config.touchControls&&(s.plugin.find(".ps-current").on("touchstart",function(i){try{i.originalEvent.touches[0].clientX&&null==s.touchFirstPosition&&(s.touchFirstPosition=i.originalEvent.touches[0].clientX)}catch(i){s.touchFirstPosition=null}}),s.plugin.find(".ps-current").on("touchmove",function(i){try{i.originalEvent.touches[0].clientX&&null!=s.touchFirstPosition&&(i.originalEvent.touches[0].clientX>s.touchFirstPosition+50?(s.touchFirstPosition=null,s.previousSlide()):i.originalEvent.touches[0].clientX<s.touchFirstPosition-50&&(s.touchFirstPosition=null,s.nextSlide()))}catch(i){s.touchFirstPosition=null}}),s.plugin.find(".ps-current").on("touchend",function(){s.touchFirstPosition=null})));var t=1;return s.plugin.find(".ps-list > ul > li").each(function(){var n=r(i(this));console.log(),n.id=t,s.data.push(n),i(this).addClass("elt_"+n.id),i(this).find("a").length>0&&i(this).find("a").contents().unwrap(),i(this).wrapInner('<span class="ps-item'+(1==t?" ps-selected":"")+'"></span>');var e=i('<li class="elt_'+t+'"></li>');if(n.image?e.html('<img src="'+n.image+'" alt="'+(s.config.displayTitles&&n.title?n.title:"")+'">'):n.thumbnail&&e.html('<img src="'+n.thumbnail+'" alt="'+(s.config.displayTitles&&n.title?n.title:"")+'">'),n.link){var o="",a="";n.classes&&(a=n.classes),n.thumbnail&&(o+=' data-thumbnail="'+n.thumbnail+'"'),n.thumbsingle&&(o+=' data-thumb="'+n.thumbsingle+'"'),n.title&&(o+=' data-title="'+n.title+'"'),n.group&&(o+=' rel="'+n.group+'"'),n.effect&&(o+=' data-effect="'+n.effect+'"'),n.share&&(o+=' data-share="'+n.share+'"'),n.save&&(o+=' data-save="'+n.save+'"'),n.play&&(o+=' data-play="'+n.play+'"'),n.autoplay&&(o+=' data-autoplay="'+n.autoplay+'"'),n.duration&&(o+=' data-duration="'+n.duration+'"'),n.thumbsize&&(o+=' data-thumbsize="'+n.thumbsize+'"'),n.thumbs&&(o+=' data-thumbs="'+n.thumbs+'"'),n.info&&(o+=' data-info="'+n.info+'"'),n.nohashes&&(o+=' data-nohashes="'+n.nohashes+'"'),n.color&&(o+=' data-color="'+n.color+'"'),n.usecors&&(o+=' data-usecors="'+n.usecors+'"'),e.html('<a class="'+a+'" href="'+n.link+'"'+(n.linkTarget?' target="'+n.linkTarget+'"':"")+" "+o+">"+e.html()+"</a>")}s.plugin.find(".ps-current > ul").append(e),s.plugin.find(".ps-list > ul").show(),i(this).css("cursor","pointer").click(function(i){i.preventDefault(),c(n.id)}),t++}),s.config.displayList?(o(),"bottom"==s.config.listPosition?s.plugin.find(".ps-list").addClass("ps-list-bottom"):"top"==s.config.listPosition&&s.plugin.find(".ps-list").addClass("ps-list-top"),s.plugin.find(".ps-list").prepend('<span class="ps-prev"><span class="ps-prevIcon"></span></span>'),s.plugin.find(".ps-list").append('<span class="ps-next"><span class="ps-nextIcon"></span></span>'),s.plugin.find(".ps-list").show()):s.plugin.find(".ps-list").hide(),s.config.autoSlide&&s.plugin.on("mouseenter",function(){clearInterval(s.intervalEvent),s.intervalEvent=null}).on("mouseleave",function(){p()}),s.plugin.find(".ps-current > ul > li").hide(),c(1),s.plugin.find(".ps-current > ul > li.elt_1 img").on("load",function(){a();var i=s.plugin.find(".ps-current > ul > li.elt_1 img").height();e(i)}),s.plugin.find(".ps-current > ul > li > a").length>0&&void 0!==jQuery.fn.krautlightbox&&s.plugin.find(".ps-current > ul > li > a").off().krautlightbox({zoom:$TS_VCSC_Lightbox_Zoom,fullscreen:$TS_VCSC_Lightbox_FullScreen}),a(),s.plugin.show(),"function"==typeof s.config.afterSetup&&s.config.afterSetup(t),!0},r=function(i){var t={},n=i.find("a").attr("href");if(void 0!==n&&""!=n){t.link=n;var s=i.find("a").attr("target");void 0!==s&&""!=s&&(t.linkTarget=s)}var e=i.find("img").attr("data-large-src");void 0!==e&&""!=e&&(t.image=e);var o=i.find("img").attr("data-title");void 0!==o&&""!=o&&(t.title=o);var a=i.find("img").attr("data-description");void 0!==a&&""!=a&&(t.description=a);var l=i.find("a").attr("class");void 0!==l&&""!=l&&(t.classes=l);var r=i.find("a").attr("data-thumbnail");void 0!==r&&""!=r?t.thumbnail=r:void 0!==(r=i.find("img").attr("src"))&&""!=r&&(t.thumbnail=r);var u=i.find("a").attr("data-thumb");void 0!==u&&""!=u&&(t.thumbsingle=u);var c=i.find("a").attr("rel");void 0!==c&&""!=c&&(t.group=c);var p=i.find("a").attr("data-effect");void 0!==p&&""!=p&&(t.effect=p);var d=i.find("a").attr("data-share");void 0!==d&&""!=d&&(t.share=d);var f=i.find("a").attr("data-save");void 0!==f&&""!=f&&(t.save=f);var g=i.find("a").attr("data-play");void 0!==g&&""!=g&&(t.play=g);var h=i.find("a").attr("data-autoplay");void 0!==h&&""!=h&&(t.autoplay=h);var v=i.find("a").attr("data-duration");void 0!==v&&""!=v&&(t.duration=v);var m=i.find("a").attr("data-thumbsize");void 0!==m&&""!=m&&(t.thumbsize=m);var w=i.find("a").attr("data-thumbs");void 0!==w&&""!=w&&(t.thumbs=w);var S=i.find("a").attr("data-info");void 0!==S&&""!=S&&(t.info=S);var y=i.find("a").attr("data-nohashes");void 0!==y&&""!=y&&(t.nohashes=y);var b=i.find("a").attr("data-color");void 0!==b&&""!=b&&(t.color=b);var C=i.find("a").attr("data-usecors");return void 0!==C&&""!=C&&(t.usecors=C),t},u=function(i){var t="";i.title&&(t+="<b>"+i.title+"</b>"),i.description&&(""!=t&&(t+="<br>"),t+=i.description),s.config.displayTitles&&""!=t?"function"==typeof s.plugin.find(".ps-caption").fadeIn?(s.plugin.find(".ps-caption").html(t),s.plugin.find(".ps-caption").fadeIn(s.config.transitionDuration/2)):(s.plugin.find(".ps-caption").html(t),s.plugin.find(".ps-caption").show()):s.plugin.find(".ps-caption").hide(),s.plugin.find(".ps-list > ul > li .ps-item").removeClass("ps-selected"),s.plugin.find(".ps-list > ul > li.elt_"+i.id+" .ps-item").addClass("ps-selected"),s.config.displayList&&(d(),f()),s.config.displayControls&&("function"==typeof s.plugin.find(".ps-current > .ps-prev").fadeIn?s.plugin.find(".ps-current > .ps-prev, .ps-current > .ps-next").fadeIn(s.config.transitionDuration/2):s.plugin.find(".ps-current > .ps-prev, .ps-current > .ps-next").show()),"function"==typeof s.config.afterSlide&&s.config.afterSlide(i.id);var n=s.plugin.find(".ps-current .elt_"+i.id+" img").height();return e(n),!0},c=function(t,n,e){if(t==s.currentSlide)return!1;var o=s.data[t-1];if(void 0===o)throw new Error("pgwSlideshow - The element "+t+" is undefined");return void 0===e&&(e="left"),"function"==typeof s.config.beforeSlide&&s.config.beforeSlide(t),"function"==typeof s.plugin.find(".ps-caption").fadeOut?s.plugin.find(".ps-caption, .ps-prev, .ps-next").fadeOut(s.config.transitionDuration/2):s.plugin.find(".ps-caption, .ps-prev, .ps-next").hide(),"sliding"==s.config.transitionEffect?function(i,t){var n=s.plugin.find(".ps-current > ul");if(void 0===t&&(t="left"),0==s.currentSlide)n.find(".elt_1").css({position:"",left:"",opacity:1,"z-index":2}).show(),s.plugin.find(".ps-list > li.elt_1").css("opacity","1"),u(i);else{if(s.transitionInProgress)return!1;s.transitionInProgress=!0;var e=n.width(),o=e,a=-e;"left"==t&&(o=-e,a=e);var l=n.find(".elt_"+s.currentSlide);"function"!=typeof l.animate&&(l.animate=function(i,t,n){l.css(i),n&&n()}),l.css("position","absolute").animate({left:o},s.config.transitionDuration,function(){l.css("position","").css("z-index",1).css("left","").css("opacity",0).hide()});var r=n.find(".elt_"+i.id);"function"!=typeof r.animate&&(r.animate=function(i,t,n){r.css(i),n&&n()}),r.css("position","absolute").css("left",a).css("opacity",1).show().animate({left:0},s.config.transitionDuration,function(){r.css("position","").css("left","").css("z-index",2).show(),s.transitionInProgress=!1,u(i)})}s.currentSlide=i.id}(o,e):function(t){var n=s.plugin.find(".ps-current > ul");if(n.find("li").not(".elt_"+s.currentSlide).not(".elt_"+t.id).each(function(){"function"==typeof i(this).stop&&i(this).stop(),i(this).css("position","").css("z-index",1).hide()}),s.currentSlide>0){var e=n.find(".elt_"+s.currentSlide);"function"!=typeof e.animate&&(e.animate=function(i,t,n){e.css(i),n&&n()}),"function"==typeof e.stop&&e.stop(),e.css("position","absolute").animate({opacity:0},s.config.transitionDuration,function(){e.css("position","").css("z-index",1).hide()})}s.currentSlide=t.id;var o=n.find(".elt_"+t.id);"function"!=typeof o.animate&&(o.animate=function(i,t,n){o.css(i),n&&n()}),"function"==typeof o.stop&&o.stop(),o.css("position","absolute").show().animate({opacity:1},s.config.transitionDuration,function(){o.css("position","").css("z-index",2).css("display","block"),u(t)})}(o),void 0!==n&&s.config.autoSlide&&p(),!0},p=function(){return clearInterval(s.intervalEvent),s.slideCount>1&&s.config.autoSlide&&(s.intervalEvent=setInterval(function(){var i=1;s.currentSlide+1<=s.slideCount&&(i=s.currentSlide+1),c(i)},s.config.intervalDuration)),!0},d=function(){if(!s.config.displayList)return!1;o();var i=s.plugin.find(".ps-list"),t=i.width(),n=s.plugin.find(".ps-list > ul"),e=n.width(),a=0;if(e>t){n.css("margin","0 45px"),a=parseInt(n.css("margin-left"));var l=parseInt(n.css("margin-right"));t-=a+l,i.find(".ps-prev").show().unbind("click").click(function(){var i=parseInt(n.css("left")),o=i+t;0==i?o=-(e-t):o>0&&(o=0),"function"==typeof n.animate?n.animate({left:o},s.config.transitionDuration):n.css("left",o)}),i.find(".ps-next").show().unbind("click").click(function(){var i=parseInt(n.css("left")),o=i-t,a=-(e-t);i==a?o=0:o<a&&(o=a),"function"==typeof n.animate?n.animate({left:o},s.config.transitionDuration):n.css("left",o)}),s.config.touchControls&&(s.plugin.find(".ps-list > ul").on("touchmove",function(t){try{var e="";if(t.originalEvent.touches[0].clientX){var o=0==s.touchListLastPosition?0:s.touchListLastPosition;nbPixels=0==s.touchListLastPosition?1:Math.abs(o-t.originalEvent.touches[0].clientX),s.touchListLastPosition=t.originalEvent.touches[0].clientX,o>t.originalEvent.touches[0].clientX?e="left":o<t.originalEvent.touches[0].clientX&&(e="right")}var a=parseInt(n.css("left")),l=0;if("left"==e){var r=i.width(),u=-(n.width()-(r-=parseInt(n.css("margin-left"))+parseInt(n.css("margin-right"))));(l=a-nbPixels)>u&&n.css("left",l)}else"right"==e&&((l=a+nbPixels)<0?n.css("left",l):n.css("left",0))}catch(t){s.touchListLastPosition=!1}}),s.plugin.find(".ps-list > ul").on("touchend",function(){s.touchListLastPosition=!1}))}else a=parseInt((t-e)/2),n.css("left",0).css("margin-left",a),i.find(".ps-prev").hide(),i.find(".ps-next").hide(),s.plugin.find(".ps-list > ul").unbind("touchstart touchmove touchend");return!0},f=function(){var i=s.plugin.find(".ps-list").width(),t=s.plugin.find(".ps-list > ul"),n=t.width();i-=parseInt(t.css("margin-left"))+parseInt(t.css("margin-right"));var e=Math.abs(parseInt(t.css("left"))),o=e+i,a=s.plugin.find(".ps-list .ps-selected").position().left,l=a+s.plugin.find(".ps-list .ps-selected").width();if(a<e||l>o||n>i&&o>l){var r=-(n-i);-a<r?t.css("left",r):t.css("left",-a)}return!0};return s.startSlide=function(){return s.config.autoSlide=!0,p(),!0},s.stopSlide=function(){return s.config.autoSlide=!1,clearInterval(s.intervalEvent),!0},s.getCurrentSlide=function(){return s.currentSlide},s.getSlideCount=function(){return s.slideCount},s.displaySlide=function(i){return c(i,!0),!0},s.nextSlide=function(){var i=1;return s.currentSlide+1<=s.slideCount&&(i=s.currentSlide+1),c(i,!0,"left"),!0},s.previousSlide=function(){var i=s.slideCount;return s.currentSlide-1>=1&&(i=s.currentSlide-1),c(i,!0,"right"),!0},s.destroy=function(t){return clearInterval(s.intervalEvent),void 0!==t?(s.plugin.find(".ps-list > ul > li").each(function(){i(this).attr("style",null).removeClass().unbind("click"),i(this).html(i(this).find("span").html())}),s.plugin.find(".ps-current").remove(),s.plugin.find(".ps-list").find(".ps-prev, .ps-next").remove(),s.plugin.find(".ps-list > ul").addClass(s.config.mainClassName).attr("style",""),s.plugin.find(".ps-list > ul").unwrap().unwrap(),s.hide()):s.parent().parent().remove(),s.plugin=null,s.data=[],s.config={},s.currentSlide=0,s.slideCount=0,s.resizeEvent=null,s.intervalEvent=null,s.touchFirstPosition=null,s.window=null,!0},s.reload=function(t){return s.destroy(!0),s=this,s.plugin=this,s.window=i(window),s.plugin.show(),s.config=i.extend({},n,t),l(),s.window.resize(function(){clearTimeout(s.resizeEvent),s.resizeEvent=setTimeout(function(){a();var i=s.plugin.find(".ps-current > ul > li.elt_"+s.currentSlide+" img").css("max-height","").height();e(i),s.config.displayList&&(d(),f())},100)}),s.config.autoSlide&&(s.config.hoverStop&&s.plugin.on("mouseenter mouseleave touchstart touchend",function(i){"mouseenter"===i.type||"touchstart"===i.type?s.stopSlide():"mouseleave"!==i.type&&"touchend"!==i.type||s.startSlide()}),p()),!0},s.config=i.extend({},n,t),l(),s.config.displayList&&d(),s.window.resize(function(){clearTimeout(s.resizeEvent),s.resizeEvent=setTimeout(function(){a(),s.plugin.find(".ps-current").css({height:"100%"}),s.config.maxHeight&&s.plugin.find(".ps-current > ul > li img").css({"max-height":"100%"});var i=s.plugin.find(".ps-current > ul > li.elt_"+s.currentSlide+" img").height();e(i),s.config.displayList&&(d(),f())},100)}),s.config.autoSlide&&(s.config.hoverStop&&s.plugin.on("mouseenter mouseleave touchstart touchend",function(i){"mouseenter"===i.type||"touchstart"===i.type?s.stopSlide():"mouseleave"!==i.type&&"touchend"!==i.type||s.startSlide()}),p()),this}}(window.Zepto||window.jQuery);