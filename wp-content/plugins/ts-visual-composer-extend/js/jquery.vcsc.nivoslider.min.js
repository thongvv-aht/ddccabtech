!function(e){var i=function(i,t){var n=e.extend({},e.fn.TS_VCSC_NivoSlider.defaults,t),a={currentSlide:0,currentImage:"",totalSlides:0,running:!1,paused:!1,stop:!1,controlNavEl:!1},o=e(i);o.data("nivo:vars",a).addClass("nivoSlider");var r=o.children();r.each(function(){var i=e(this),t="";i.is("img")||(i.is("a")&&(i.addClass("nivo-imageLink"),t=i),i=i.find("img:first"));var n=0===n?i.attr("width"):i.width(),o=0===o?i.attr("height"):i.height();""!==t&&t.css("display","none"),i.css("display","none"),a.totalSlides++});var s=function(e){return e.attr("data-nivo-lazy")||e.attr("src")},c=function(i){return e(r[i]).is("img")?e(r[i]):e(r[i]).find("img:first")},l=function(e){var i=e;i>=r.length?i=0:0>i&&(i=0);var t=c(i);"false"==t.attr("data-nivo-loaded")&&(t.attr("src",s(t)).attr("data-nivo-loaded","true"),n.onImageLoad.call(this,t))};n.randomStart&&(n.startSlide=Math.floor(Math.random()*a.totalSlides)),n.startSlide>0&&(n.startSlide>=a.totalSlides&&(n.startSlide=a.totalSlides-1),a.currentSlide=n.startSlide),a.currentImage=e(r[a.currentSlide]).is("img")?e(r[a.currentSlide]):e(r[a.currentSlide]).find("img:first"),e(r[a.currentSlide]).is("a")&&e(r[a.currentSlide]).css("display","block");var d=e("<img/>").addClass("nivo-main-image");d.attr("src",s(a.currentImage)).show(),o.append(d),n.lazyload&&(0==n.startSlide?(l(0),l(1),l(r.length-1)):(l(n.startSlide),l(n.startSlide+1>=r.length?0:n.startSlide+1),l(n.startSlide-1<0?r.length-1:n.startSlide-1))),e(window).resize(function(){o.children("img").width(o.width()),d.attr("src",s(a.currentImage)),d.stop().height("auto"),e(".nivo-slice").remove(),e(".nivo-box").remove()}),o.append(e('<div class="nivo-caption"></div>'));var v=function(i){var t=e(".nivo-caption",o);if(""!=a.currentImage.attr("data-title")&&void 0!=a.currentImage.attr("data-title")){var n=a.currentImage.attr("data-title");"#"==n.substr(0,1)&&(n=e(n).html()),"block"==t.css("display")?setTimeout(function(){t.html(n)},i.animSpeed):(t.html(n),t.stop().fadeIn(i.animSpeed))}else t.stop().fadeOut(i.animSpeed)};v(n);var u=0;if(!n.manualAdvance&&r.length>1&&(u=setInterval(function(){g(o,r,n,!1)},n.pauseTime)),n.directionNav&&(o.append('<div class="nivo-directionNav"><a class="nivo-prevNav">'+n.prevText+'</a><a class="nivo-nextNav">'+n.nextText+"</a></div>"),e(o).on("click","a.nivo-prevNav",function(){return a.running?!1:(clearInterval(u),u="",a.currentSlide-=2,void g(o,r,n,"prev"))}),e(o).on("click","a.nivo-nextNav",function(){return a.running?!1:(clearInterval(u),u="",void g(o,r,n,"next"))})),n.controlNav){a.controlNavEl=e('<div class="nivo-controlNav"></div>'),o.after(a.controlNavEl);for(var m=0;m<r.length;m++)if(n.controlNavThumbs){a.controlNavEl.addClass("nivo-thumbs-enabled");var p=r.eq(m);p.is("img")||(p=p.find("img:first")),p.attr("data-thumb")&&a.controlNavEl.append('<a class="nivo-control" rel="'+m+'"><img src="'+p.attr("data-thumb")+'" alt="" /></a>')}else a.controlNavEl.append('<a class="nivo-control" rel="'+m+'">'+(m+1)+"</a>");e("a:eq("+a.currentSlide+")",a.controlNavEl).addClass("active"),e("a",a.controlNavEl).on("click",function(){if(a.running)return!1;if(e(this).hasClass("active"))return!1;var i=parseInt(e(this).attr("rel")),t=c(i);clearInterval(u),u="",d.attr("src",s(a.currentImage)),a.currentSlide=i-1,"false"==t.attr("data-nivo-loaded")&&n.lazyload?(l(i),t.on("load",function(){t.off("load"),g(o,r,n,"control")})):g(o,r,n,"control")})}n.playpauseNav&&(o.append('<div class="nivo-playpauseNav" style="display: block;"><a class="nivo-playNav" style="display: none;">'+n.playText+'</a><a class="nivo-pauseNav">'+n.pauseText+"</a></div>"),e(o).on("click","a.nivo-playNav",function(){e(i).data("nivo:vars").stop&&(e(i).data("nivo:vars").stop=!1,S("Start Slider"),e(this).hide(),e(o).find("a.nivo-pauseNav").show())}),e(o).on("click","a.nivo-pauseNav",function(){e(i).data("nivo:vars").stop||(e(i).data("nivo:vars").stop=!0,S("Stop Slider"),e(this).hide(),e(o).find("a.nivo-playNav").show())})),n.keyboardNav&&(o.on("mouseenter",function(){o.attr("data-mouseover","true")}).on("mouseleave",function(){o.attr("data-mouseover","false")}),e(document).on("keydown",function(){if("true"==o.attr("data-mouseover"))if("37"==event.keyCode){if(a.running)return!1;clearInterval(u),u="",a.currentSlide-=2,g(o,r,n,"prev")}else if("39"==event.keyCode){if(a.running)return!1;clearInterval(u),u="",g(o,r,n,"next")}})),n.pauseOnHover&&o.hover(function(){a.paused=!0,clearInterval(u),u=""},function(){a.paused=!1,""!==u||n.manualAdvance||(u=setInterval(function(){g(o,r,n,!1)},n.pauseTime))}),o.bind("nivo:animFinished",function(){d.attr("src",s(a.currentImage)),a.running=!1,e(r).each(function(){e(this).is("a")&&e(this).css("display","none")}),e(r[a.currentSlide]).is("a")&&e(r[a.currentSlide]).css("display","block"),""!==u||a.paused||n.manualAdvance||(u=setInterval(function(){g(o,r,n,!1)},n.pauseTime)),n.afterChange.call(this),n.lazyload&&(l(a.currentSlide+1>=r.length?0:a.currentSlide+1),l(a.currentSlide-1<0?r.length-1:a.currentSlide-1))});var h=function(i,t,n){e(n.currentImage).parent().is("a")&&e(n.currentImage).parent().css("display","block"),e('img[src="'+s(n.currentImage)+'"]',i).not(".nivo-main-image,.nivo-control img").width(i.width()).css("visibility","hidden").show();for(var a=e('img[src="'+s(n.currentImage)+'"]',i).not(".nivo-main-image,.nivo-control img").parent().is("a")?e('img[src="'+s(n.currentImage)+'"]',i).not(".nivo-main-image,.nivo-control img").parent().height():e('img[src="'+s(n.currentImage)+'"]',i).not(".nivo-main-image,.nivo-control img").height(),o=0;o<t.slices;o++){var r=Math.round(i.width()/t.slices);i.append(o===t.slices-1?e('<div class="nivo-slice" name="'+o+'"><img src="'+s(n.currentImage)+'" style="position:absolute; width:'+i.width()+"px; height:auto; display:block !important; top:0; left:-"+(r+o*r-r)+'px;" /></div>').css({left:r*o+"px",width:i.width()-r*o+"px",height:a+"px",opacity:"0",overflow:"hidden"}):e('<div class="nivo-slice" name="'+o+'"><img src="'+s(n.currentImage)+'" style="position:absolute; width:'+i.width()+"px; height:auto; display:block !important; top:0; left:-"+(r+o*r-r)+'px;" /></div>').css({left:r*o+"px",width:r+"px",height:a+"px",opacity:"0",overflow:"hidden"}))}e(".nivo-slice",i).height(a),d.stop().animate({height:e(n.currentImage).height()},t.animSpeed)},f=function(i,t,n){e(n.currentImage).parent().is("a")&&e(n.currentImage).parent().css("display","block"),e('img[src="'+s(n.currentImage)+'"]',i).not(".nivo-main-image,.nivo-control img").width(i.width()).css("visibility","hidden").show();for(var a=Math.round(i.width()/t.boxCols),o=Math.round(e('img[src="'+s(n.currentImage)+'"]',i).not(".nivo-main-image,.nivo-control img").height()/t.boxRows),r=0;r<t.boxRows;r++)for(var c=0;c<t.boxCols;c++)c===t.boxCols-1?(i.append(e('<div class="nivo-box" name="'+c+'" rel="'+r+'"><img src="'+s(n.currentImage)+'" style="position:absolute; width:'+i.width()+"px; height:auto; display:block; top:-"+o*r+"px; left:-"+a*c+'px;" /></div>').css({opacity:0,left:a*c+"px",top:o*r+"px",width:i.width()-a*c+"px"})),e('.nivo-box[name="'+c+'"]',i).height(e('.nivo-box[name="'+c+'"] img',i).height()+"px")):(i.append(e('<div class="nivo-box" name="'+c+'" rel="'+r+'"><img src="'+s(n.currentImage)+'" style="position:absolute; width:'+i.width()+"px; height:auto; display:block; top:-"+o*r+"px; left:-"+a*c+'px;" /></div>').css({opacity:0,left:a*c+"px",top:o*r+"px",width:a+"px"})),e('.nivo-box[name="'+c+'"]',i).height(e('.nivo-box[name="'+c+'"] img',i).height()+"px"));d.stop().animate({height:e(n.currentImage).height()},t.animSpeed)},g=function(i,t,n,a){var o=i.data("nivo:vars");if(o&&o.currentSlide===o.totalSlides-1&&n.lastSlide.call(this),(!o||o.stop)&&!a)return!1;n.beforeChange.call(this),a?("prev"===a&&(d.attr("src",s(o.currentImage)),o.currentImage.attr("src",s(o.currentImage))),"next"===a&&(d.attr("src",s(o.currentImage)),o.currentImage.attr("src",s(o.currentImage)))):(d.attr("src",s(o.currentImage)),o.currentImage.attr("src",s(o.currentImage))),o.currentSlide++,o.currentSlide===o.totalSlides&&(o.currentSlide=0,n.slideshowEnd.call(this)),o.currentSlide<0&&(o.currentSlide=o.totalSlides-1),o.currentImage=e(t[o.currentSlide]).is("img")?e(t[o.currentSlide]):e(t[o.currentSlide]).find("img:first"),n.controlNav&&(e("a",o.controlNavEl).removeClass("active"),e("a:eq("+o.currentSlide+")",o.controlNavEl).addClass("active")),v(n),e(".nivo-slice",i).remove(),e(".nivo-box",i).remove();var r=n.effect,c="";"random"==n.effect&&(c=new Array("sliceDownRight","sliceDownLeft","sliceUpRight","sliceUpLeft","sliceUpDown","sliceUpDownLeft","fold","fade","boxRandom","boxRain","boxRainReverse","boxRainGrow","boxRainGrowReverse"),r=c[Math.floor(Math.random()*(c.length+1))],void 0===r&&(r="fade")),-1!==n.effect.indexOf(",")&&(c=n.effect.split(","),r=c[Math.floor(Math.random()*c.length)],void 0===r&&(r="fade")),o.currentImage.attr("data-transition")&&(r=o.currentImage.attr("data-transition")),o.running=!0;var l=0,u=0,m="",p="",g="",S="";if("sliceDown"===r||"sliceDownRight"===r||"sliceDownLeft"===r)h(i,n,o),l=0,u=0,m=e(".nivo-slice",i),"sliceDownLeft"===r&&(m=e(".nivo-slice",i)._reverse()),m.each(function(){var t=e(this);t.css({top:"0px"}),u===n.slices-1?setTimeout(function(){t.animate({opacity:"1.0"},n.animSpeed,"",function(){i.trigger("nivo:animFinished")})},100+l):setTimeout(function(){t.animate({opacity:"1.0"},n.animSpeed)},100+l),l+=50,u++});else if("sliceUp"===r||"sliceUpRight"===r||"sliceUpLeft"===r)h(i,n,o),l=0,u=0,m=e(".nivo-slice",i),"sliceUpLeft"===r&&(m=e(".nivo-slice",i)._reverse()),m.each(function(){var t=e(this);t.css({bottom:"0px"}),u===n.slices-1?setTimeout(function(){t.animate({opacity:"1.0"},n.animSpeed,"",function(){i.trigger("nivo:animFinished")})},100+l):setTimeout(function(){t.animate({opacity:"1.0"},n.animSpeed)},100+l),l+=50,u++});else if("sliceUpDown"===r||"sliceUpDownRight"===r||"sliceUpDownLeft"===r){h(i,n,o),l=0,u=0;var w=0;m=e(".nivo-slice",i),"sliceUpDownLeft"===r&&(m=e(".nivo-slice",i)._reverse()),m.each(function(){var t=e(this);0===u?(t.css("top","0px"),u++):(t.css("bottom","0px"),u=0),w===n.slices-1?setTimeout(function(){t.animate({opacity:"1.0"},n.animSpeed,"",function(){i.trigger("nivo:animFinished")})},100+l):setTimeout(function(){t.animate({opacity:"1.0"},n.animSpeed)},100+l),l+=50,w++})}else if("fold"===r)h(i,n,o),l=0,u=0,e(".nivo-slice",i).each(function(){var t=e(this),a=t.width();t.css({top:"0px",width:"0px"}),u===n.slices-1?setTimeout(function(){t.animate({width:a,opacity:"1.0"},n.animSpeed,"",function(){i.trigger("nivo:animFinished")})},100+l):setTimeout(function(){t.animate({width:a,opacity:"1.0"},n.animSpeed)},100+l),l+=50,u++});else if("fade"===r)h(i,n,o),p=e(".nivo-slice:first",i),p.css({width:i.width()+"px"}),p.animate({opacity:"1.0"},2*n.animSpeed,"",function(){i.trigger("nivo:animFinished")});else if("slideInRight"===r)h(i,n,o),p=e(".nivo-slice:first",i),p.css({width:"0px",opacity:"1"}),p.animate({width:i.width()+"px"},2*n.animSpeed,"",function(){i.trigger("nivo:animFinished")});else if("slideInLeft"===r)h(i,n,o),p=e(".nivo-slice:first",i),p.css({width:"0px",opacity:"1",left:"",right:"0px"}),p.animate({width:i.width()+"px"},2*n.animSpeed,"",function(){p.css({left:"0px",right:""}),i.trigger("nivo:animFinished")});else if("boxRandom"===r)f(i,n,o),g=n.boxCols*n.boxRows,u=0,l=0,S=x(e(".nivo-box",i)),S.each(function(){var t=e(this);u===g-1?setTimeout(function(){t.animate({opacity:"1"},n.animSpeed,"",function(){i.trigger("nivo:animFinished")})},100+l):setTimeout(function(){t.animate({opacity:"1"},n.animSpeed)},100+l),l+=20,u++});else if("boxRain"===r||"boxRainReverse"===r||"boxRainGrow"===r||"boxRainGrowReverse"===r){f(i,n,o),g=n.boxCols*n.boxRows,u=0,l=0;var b=0,y=0,I=[];I[b]=[],S=e(".nivo-box",i),("boxRainReverse"===r||"boxRainGrowReverse"===r)&&(S=e(".nivo-box",i)._reverse()),S.each(function(){I[b][y]=e(this),y++,y===n.boxCols&&(b++,y=0,I[b]=[])});for(var N=0;N<2*n.boxCols;N++){for(var R=N,T=0;T<n.boxRows;T++)R>=0&&R<n.boxCols&&(!function(t,a,o,s,c){var l=e(I[t][a]),d=l.width(),v=l.height();("boxRainGrow"===r||"boxRainGrowReverse"===r)&&l.width(0).height(0),s===c-1?setTimeout(function(){l.animate({opacity:"1",width:d,height:v},n.animSpeed/1.3,"",function(){i.trigger("nivo:animFinished")})},100+o):setTimeout(function(){l.animate({opacity:"1",width:d,height:v},n.animSpeed/1.3)},100+o)}(T,R,l,u,g),u++),R--;l+=100}}},x=function(e){for(var i,t,n=e.length;n;i=parseInt(Math.random()*n,10),t=e[--n],e[n]=e[i],e[i]=t);return e},S=function(e){this.console&&"undefined"!=typeof console.log&&console.log(e)};return this.stop=function(){e(i).data("nivo:vars").stop||(e(i).data("nivo:vars").stop=!0,S("Stop Slider"))},this.start=function(){e(i).data("nivo:vars").stop&&(e(i).data("nivo:vars").stop=!1,S("Start Slider"))},n.afterLoad.call(this),this};e.fn.TS_VCSC_NivoSlider=function(t){return this.each(function(){var n=e(this);if(n.data("nivoslider"))return n.data("nivoslider");var a=new i(this,t);n.data("nivoslider",a)})},e.fn.TS_VCSC_NivoSlider.defaults={lazyload:!1,effect:"random",slices:15,boxCols:8,boxRows:4,animSpeed:500,pauseTime:3e3,startSlide:0,directionNav:!0,directionNavHide:!0,controlNav:!0,controlNavThumbs:!1,controlNavThumbsFromRel:!1,controlNavThumbsSearch:".jpg",controlNavThumbsReplace:"_thumb.jpg",keyboardNav:!0,pauseOnHover:!0,manualAdvance:!1,captionOpacity:.8,prevText:"Prev",nextText:"Next",randomStart:!1,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterLoad:function(){},onImageLoad:function(){},onImageChange:function(){}},e.fn._reverse=[].reverse}(jQuery);