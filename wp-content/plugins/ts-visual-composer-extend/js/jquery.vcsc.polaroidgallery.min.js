!function(t){t.fn.TS_VCSC_PolaroidGallery=function(e){function o(t){if(!K)return!1;var a=parseInt(Y.attr("data-maxheight")),e=parseInt(Y.attr("data-lastwidth")),i=(parseInt(Y.attr("data-lastheight")),Y.width()),o=0,r=Z.width()*Math.cos(Lt)+Z.height()*Math.sin(Lt);if(i>r&&(o=(i-r)/2),"topright"==Y.attr("data-position")||"bottomright"==Y.attr("data-position")?at.css({right:Math.abs(o)+"px"}):at.css({left:Math.abs(o)+"px"}),e==i&&0==t)return!1;Z.hide(),at.hide(),$t.hide(),et.show(),Y.css({height:a+"px"}),Z.css({width:"100%",height:"100%"}),tt.css({width:"100%",height:"100%"}),setTimeout(function(){c(t)},1e3)}function r(){}function n(t){}function s(t){var e=Z.find("div.ts-polaroid-gallery-slide"),o=Z.find("div.ts-polaroid-gallery-item-"+t),r=lt-1,n=o.prevAll().length,s=0,d=[];if(Q>=lt)e.removeClass("ts-polaroid-gallery-slide-active").addClass("ts-polaroid-gallery-slide-sibling"),o.removeClass("ts-polaroid-gallery-slide-sibling").addClass("ts-polaroid-gallery-slide-active");else{if(t==r){for(a=r-1;a>r-Q;a--)d.push(a);d.push(0)}else if(0==t){for(a=r;a>r-Q+1;a--)d.push(a);d.push(1)}else if(n<Q){for(s=Q-n,a=t-Q+1;a<t;a++)a>=0?d.push(a):d.push(a+n+s+1);d.push(t+1)}else if(n>=Q){for(a=t-Q+1;a<t;a++)d.push(a);d.push(t+1)}for(e.removeClass("ts-polaroid-gallery-slide-active").removeClass("ts-polaroid-gallery-slide-sibling").addClass("ts-polaroid-gallery-slide-hidden"),i=0;i<lt;i++)i==t?o.removeClass("ts-polaroid-gallery-slide-hidden").addClass("ts-polaroid-gallery-slide-active"):jQuery.inArray(i,d)>=0&&Z.find("div.ts-polaroid-gallery-item-"+i).removeClass("ts-polaroid-gallery-slide-hidden").addClass("ts-polaroid-gallery-slide-sibling");D&&at.text(lt-t+" / "+lt)}}function d(){var a,e,i,o,n,s,d,l,u,p,h,f,g=0,m=Z.find("div.ts-polaroid-gallery-slide");lt=m.length,m.each(function(){Tt.push(t(this))});var v=t(Tt[0]);for(ct=v.width(),ut=v.height(),ot=ut/ct,rt=ct/ut,l=v.find("div.ts-polaroid-gallery-wrapper"),nt=l.height()/l.width(),st=(v.width()-l.width())/2,g=0;g<lt;g++){if((s=t(Tt[g])).attr("data-current-id",g),s.attr("data-original-id",g),s.addClass("ts-polaroid-gallery-item-"+g),s.css({zIndex:g+bt,top:"0px",left:"0px",rotate:"0deg"}),G?(d=B(At,Pt),Math.abs(d)>Mt&&(Mt=Math.abs(d),h=Math.abs(d),f=g),g!=lt-1&&s.css(X,"rotate("+d+"deg)")):(u=35*Math.random(),p=25*Math.random(),u>kt&&(kt=u),p>Ht&&(Ht=p),u<_t&&(_t=u),p<Rt&&(Rt=p),s.css("top",u+"px"),s.css("left",p+"px"),s.data("origTop",u),s.data("origLeft",p)),s.find("a.ts-polaroid-gallery-link-lightbox").on("click",function(t){return t.preventDefault(),It=!0,W&&C(),r(),!1}),function(t,a){var e=t.length;for(;e--;)if(parseInt(t[e],10)===a)return!0;return!1}(yt,g))if(s.bind("dragstart",function(t){return t.preventDefault(),!1}).bind("selectstart",function(t){return t.preventDefault(),!1}),1==$TS_VCSC_Hammer_ReleaseNew){var x=document.getElementById(s.attr("id"));new Hammer(x,{prevent_default:!0}).on("swipeleft",function(t){return t.preventDefault(),M("left"),!1}).on("swiperight",function(t){return t.preventDefault(),M("right"),!1})}else Hammer(s).on("swipeleft",function(){return M("left"),!1}).on("swiperight",function(){return M("right"),!1});for(j=0,o=s.find("div.ts-polaroid-gallery-caption"),Ct.push(o),e=(a=o.find("div")).length,i=[],j;j<e;j++)(n=a.eq(j)).css("opacity",0),i.push(n);e>0&&(s.data("caption_list",o),s.data("captionSubArr",i))}At=Mt,Pt=-Mt,G?((s=t(Tt[f])).data("max_rot",h),pt=ct,ht=ut):(pt=Ht+ct-Rt,ht=kt+ut-_t),c(),w(lt-1),Y.css("opacity",1),$t&&($t.css("opacity",0),$t.css("display","block"),$t.stop().transition({opacity:1,duration:1e3,easing:"easeOutSine",complete:function(){}})),D?at.show().css("opacity",1):at.hide().css("opacity",0),K=!0,et.hide()}function l(t,a,e){var i=t*Math.PI/180,o=Math.cos(i),r=Math.sin(i),n=a,s=e,d=o*n,l=r*n,c=-r*s,u=o*s,p=o*n-r*s,h=r*n+o*s,f=Math.min(0,d,c,p),g=Math.max(0,d,c,p),m=Math.min(0,l,u,h),v=Math.max(0,l,u,h);mt=Math.round(g-f),vt=Math.round(v-m)}function c(a){var e,i,o,r,n=0,s=0,d=0,c=0,u=0;currentRotation=0,stackHeightTop=0,stackHeightBottom=0,stackHeightFinal=0;var p=parseInt(Y.attr("data-lastwidth")),h=Y.width();if(p==h&&K&&0==a)return!1;G&&function(t){var a=t*Math.PI/180,e=Math.cos(a),i=Math.sin(a),o=ct,r=ut;ft=Math.round(o*Math.abs(e)+r*Math.abs(i)),gt=Math.round(o*Math.abs(i)+r*Math.abs(e)),Bt=gt-ut,Ft=ft-ct}(Mt);var f=b("w"),g=b("h");for(n;n<lt;n++){if(e=t(Tt[n]),i=e.find("div.ts-polaroid-gallery-wrapper"),q||pt>f||ht>g||ft>f||gt>g){if(G){(m={}).width=g/(ut+Bt)*ct,m.height=g,l(Mt,m.width,m.width*ot),Ot="width",(mt-1>f||vt-1>g)&&(m.height=f/(ct+Ft)*ut,m.width=f,Ot="height")}else var m=function(t,a,e,i){var o={},r=b("w")-(pt-ct),n=b("h")-(ht-ut),s=a,d=e,l=(r-0)/(n-0),c=s/d;c<l?i?(o.width=(n-0)/d*s,o.height=n-0):(o.height=(r-0)/s*d,o.width=r-0):c>l?i?(o.height=(r-0)/s*d,o.width=r-0):(o.width=(n-0)/d*s,o.height=n-0):(o.width=r-0,o.height=n-0);return o}(0,ct,ut,!0);o=m.width,r=m.height}else o=ct,r=ut;e&&("width"==Ot?(e.width(o),e.height(o*ot)):(e.height(r),e.width(r*rt))),i&&("width"==Ot?(i.width(o-2*st),i.height(e.width()*ot-2*st)):(i.height(r-2*st),i.width(e.height()*rt-2*st)))}G?"width"==Ot?Z.css({left:"50%",top:"50%",width:o+"px",height:e.width()*ot+"px",marginLeft:-o/2+"px",marginTop:-e.width()*ot/2+"px"}):Z.css({left:"50%",top:"50%",height:r+"px",width:e.height()*rt+"px",marginLeft:-e.height()*rt/2+"px",marginTop:-e.width()*ot/2+"px"}):Z.css({left:"50%",top:"50%",width:o+"px",height:e.width()*ot+"px",marginLeft:-o/2-(Ht+Rt)/2+"px",marginTop:-e.width()*ot/2-(kt+_t)/2+"px"});var v,n=0,w=Ct.length;for(n;n<w;n++)t(Ct[n]).find("div").each(function(){(v=t(this)).removeClass("ts-polaroid-gallery-caption-small").removeClass("ts-polaroid-gallery-caption-medium").removeClass("ts-polaroid-gallery-caption-large"),b("w")<=570||b("h")<=320?v.addClass("ts-polaroid-gallery-caption-small"):b("w")<=767||b("h")<=570?v.addClass("ts-polaroid-gallery-caption-medium"):(b("w")<=959||b("h")<=767)&&v.addClass("ts-polaroid-gallery-caption-large")});for(n=0;n<lt;n++)div=t(Tt[n]),div.height()>s&&(s=div.height()),div.width()>d&&(d=div.width()),G&&(currentRotation=div.css("rotate").replace("deg",""),currentRotation>c&&(c=currentRotation),currentRotation<u&&(u=currentRotation));stackHeightTop=x(c,d,s),stackHeightBottom=x(u,d,s),stackHeightTop[1]>stackHeightBottom[1]?stackHeightFinal=Math.ceil(stackHeightTop[1])+2*N:stackHeightFinal=Math.ceil(stackHeightBottom[1])+2*N,stackHeightFinal>0?(Y.css("height",(stackHeightFinal>F?F:stackHeightFinal)+"px"),Y.attr("data-lastheight",stackHeightFinal>F?F:stackHeightFinal)):(Y.css("height",(s+2*N>F?F:s+2*N)+"px"),Y.attr("data-lastheight",s+2*N>F?F:s+2*N)),Y.attr("data-lastwidth",h),Z.show(),at.show(),$t.show(),et.hide()}function u(){var a=t(Tt[0]);G?(wt=a.outerHeight()+100,xt=a.outerWidth()+50):(wt=a.outerHeight()+10,xt=a.outerWidth()+5)}function p(a,e){var i=lt-1;parseInt(t(Tt[i]).attr("data-original-id"),10);n(),void 0!=Tt[i].data("captionSubArr")&&v(i);var o;o=t(a?e?L(a):z(a):z(i));var r=B(Lt,jt),s=B(At,Pt),d=0,l=0;if(u(),"verticalAbove"==$||"verticalRound"==$)G?U?o.animate({top:-wt+"px"},{duration:Et,easing:"easeOutSine",step:function(t,a){l=Math.round(t*Et/wt),d=-l*r/Et,setTimeout(function(){o.css(X,"rotate("+d+"deg)")},65)},complete:function(){h(o,s,d,a,e)}}):o.transition({rotate:r+"deg",top:-wt+"px",duration:Et,easing:"easeOutCubic",complete:function(){h(o,s,d,a,e),o.css(X,"rotate("+r+"deg)")}}):o.transition({top:-wt+"px",duration:Et,easing:"easeOutCubic",complete:function(){h(o,s,d,a,e)}});else{var c="horizontalLeft"==$?-xt:xt;G?U?o.animate({left:c+"px"},{duration:Et,easing:"easeOutSine",step:function(t,a){l=Math.round(t*Et/c),d="horizontalLeft"==$?l*r/Et:-l*r/Et,setTimeout(function(){o.css(X,"rotate("+d+"deg)")},65)},complete:function(){f(o,s,d,a,e)}}):o.transition({rotate:r+"deg",left:c+"px",duration:Et,easing:"easeOutCubic",complete:function(){f(o,s,d,a,e),o.css(X,"rotate("+r+"deg)")}}):o.transition({left:c+"px",duration:Et,easing:"easeOutCubic",complete:function(){f(o,s,d,a,e)}})}}function h(a,e,i,o,r){if(o){if(r){o=t(L(o)).attr("data-current-id")}var n=Tt[o];Tt.splice(o,1),Tt.push(n),A()}else Tt.unshift(Tt.pop()),A();void 0!=a.data("max_rot")&&(e=parseInt(a.data("max_rot"),10));var s=e;if(G)if(U){var d,l,c,u=0,p=0,h=i,f=parseInt(a.css("top"),10);o&&(e=0),i<0&&e<0&&i>e?(d=Math.abs(Math.abs(i)-Math.abs(e)),l="-"):i>0&&e>0&&i>e?(d=i-e,l="-"):i>0&&e<0?(d=i+Math.abs(e),l="-"):i<0&&e<0&&i<e?(d=Math.abs(Math.abs(i)-Math.abs(e)),l="+"):i>0&&e>0&&i<e?(d=e-i,l="+"):i<0&&e>0?(d=Math.abs(i)+e,l="+"):0==i&&e>0?(d=e,l="+"):i>0&&0==e?(d=i,l="-"):i<0&&0==e?(d=Math.abs(i),l="+"):0==i&&e<0&&(d=Math.abs(e),l="-"),a.animate({top:"0px"},{duration:zt,easing:"easeOutSine",step:function(t,e){p=-Math.round(t*zt/f-zt),u=p*d/zt,setTimeout(function(){"+"==l?(c=h+u,a.css(X,"rotate("+c+"deg)")):(c=h-u,a.css(X,"rotate("+c+"deg)"))},65)}})}else o?a.transition({rotate:"0deg",top:"0px",duration:zt,easing:"easeOutExpo",complete:function(){a.css(X,"rotate(0deg)")}}):a.transition({rotate:e+"deg",top:"0px",duration:zt,easing:"easeOutExpo",complete:function(){a.css(X,"rotate("+e+"deg)")}});else{var g=0;void 0!=a.data("origTop")&&(g=parseInt(a.data("origTop"),10)),a.transition({top:g+"px",duration:zt,easing:"easeOutExpo"})}if(G)if(o){var m=t(Tt[lt-2]);m.transition({rotate:s+"deg",duration:zt,easing:"easeOutSine",complete:function(){m.css(X,"rotate("+s+"deg)")}})}else{var v=t(Tt[lt-1]);v.transition({rotate:"0deg",duration:zt,easing:"easeOutExpo",complete:function(){v.css(X,"rotate(0deg)")}})}dt&&clearTimeout(dt),dt=setTimeout(y,zt)}function f(a,e,i,o,r){if(o){if(r){o=t(L(o)).attr("data-current-id")}var n=Tt[o];Tt.splice(o,1),Tt.push(n),A()}else Tt.unshift(Tt.pop()),A();void 0!=a.data("max_rot")&&(e=parseInt(a.data("max_rot"),10));var s=e;if(G)if(U){var d,l,c,u=0,p=0,h=i,f=parseInt(a.css("left"),10);o&&(e=0),i<0&&e<0&&i>e?(d=Math.abs(Math.abs(i)-Math.abs(e)),l="-"):i>0&&e>0&&i>e?d="-":i>0&&e<0?(d=i+Math.abs(e),l="-"):i<0&&e<0&&i<e?(d=Math.abs(Math.abs(i)-Math.abs(e)),l="+"):i>0&&e>0&&i<e?(d=e-i,l="+"):i<0&&e>0?(d=Math.abs(i)+e,l="+"):0==i&&e>0?(d=e,l="+"):i>0&&0==e?(d=i,l="-"):i<0&&0==e?(d=Math.abs(i),l="+"):0==i&&e<0&&(d=Math.abs(e),l="-"),a.animate({left:"0px"},{duration:zt,easing:"easeOutSine",step:function(t,e){p=-Math.round(t*zt/f-zt),u=p*d/zt,setTimeout(function(){"+"==l?(c=h+u,a.css(X,"rotate("+c+"deg)")):(c=h-u,a.css(X,"rotate("+c+"deg)"))},65)}})}else o?a.transition({rotate:"0deg",left:"0px",duration:zt,easing:"easeOutExpo",complete:function(){a.css(X,"rotate(0deg)")}}):a.transition({rotate:e+"deg",left:"0px",duration:zt,easing:"easeOutExpo",complete:function(){a.css(X,"rotate("+e+"deg)")}});else{var g=0;void 0!=a.data("origLeft")&&(g=parseInt(a.data("origLeft"),10)),a.transition({left:g+"px",duration:zt,easing:"easeOutExpo",complete:function(){}})}if(G)if(o){var m=t(Tt[lt-2]);m.transition({rotate:s+"deg",duration:zt,easing:"easeOutSine",complete:function(){m.css(X,"rotate("+s+"deg)")}})}else{var v=t(Tt[lt-1]);v.transition({rotate:"0deg",duration:zt,easing:"easeOutExpo",complete:function(){v.css(X,"rotate(0deg)")}})}dt&&clearTimeout(dt),dt=setTimeout(y,zt)}function g(a,e,i){if(Tt.push(Tt.shift()),P(),void 0!=a.data("max_rot")&&(e=parseInt(a.data("max_rot"),10)),G){if(t(Tt[lt-2]).transition({rotate:e+"deg",duration:zt,easing:"easeOutSine"}),U){var o,r,n=Math.abs(i),s=0,d=0,l=i,c=parseInt(a.css("top"),10);i>0?o="-":i<0&&(o="+"),a.animate({top:"0px"},{duration:zt,easing:"easeOutSine",step:function(t,e){d=-Math.round(t*zt/c-zt),s=d*n/zt,setTimeout(function(){"+"==o?(r=Math.floor(l+s),a.css(X,"rotate("+r+"deg)")):(r=Math.floor(l-s),a.css(X,"rotate("+r+"deg)"))},65)},complete:function(){w(a.attr("data-current-id"))}})}else a.transition({rotate:"0deg",top:"0px",duration:zt,easing:"easeOutExpo",complete:function(){w(a.attr("data-current-id")),a.css(X,"rotate(0deg)")}})}else{var u=0;void 0!=a.data("origTop")&&(u=parseInt(a.data("origTop"),10)),a.transition({top:u+"px",duration:zt,easing:"easeOutExpo",complete:function(){w(a.attr("data-current-id"))}})}}function m(a,e,i){if(Tt.push(Tt.shift()),P(),void 0!=a.data("max_rot")&&(e=parseInt(a.data("max_rot"),10)),G){if(t(Tt[lt-2]).transition({rotate:e+"deg",duration:zt,easing:"easeOutSine"}),U){var o,r,n=Math.abs(i),s=0,d=0,l=i,c=parseInt(a.css("left"),10);i>0?o="-":i<0&&(o="+"),a.animate({left:"0px"},{duration:zt,easing:"easeOutSine",step:function(t,e){d=-Math.round(t*zt/c-zt),s=d*n/zt,setTimeout(function(){"+"==o?(r=Math.floor(l+s),a.css(X,"rotate("+r+"deg)")):(r=Math.floor(l-s),a.css(X,"rotate("+r+"deg)"))},65)},complete:function(){w(a.attr("data-current-id"))}})}else a.transition({rotate:"0deg",left:"0px",duration:zt,easing:"easeOutExpo",complete:function(){w(a.attr("data-current-id")),a.css(X,"rotate(0deg)")}})}else{var u=0;void 0!=a.data("origLeft")&&(u=parseInt(a.data("origLeft"),10)),a.transition({left:u+"px",duration:zt,easing:"easeOutExpo",complete:function(){w(a.attr("data-current-id"))}})}}function v(a){var e,i=0,o=Tt[a].data("captionSubArr"),r=Tt[a].data("caption_list"),n=o.length;for(i;i<n;i++)e=t(o[i]),i!=n-1?e.stop().transition({opacity:0,duration:Dt,easing:"easeOutSine",complete:function(){}}):e.stop().transition({opacity:0,duration:Dt,easing:"easeOutSine",complete:function(){r.css("display","none")}})}function w(a){if(s(parseInt(t(Tt[a]).attr("data-original-id"),10)),void 0!=Tt[a].data("captionSubArr")){var e,i=0,o=Tt[a].data("captionSubArr"),r=Tt[a].data("caption_list"),n=o.length;for(r.css("display","block"),i;i<n;i++)(e=t(o[i])).css("opacity",0),e.css("left","-100px"),i!=n-1?e.delay(Qt*i).transition({opacity:1,left:"0px",duration:Dt,easing:"easeOutQuart",complete:function(){}}):i==n-1&&e.delay(Qt*i).transition({opacity:1,left:"0px",duration:Dt,easing:"easeOutQuart",complete:function(){I("on"),St=!1,O()}})}else I("on"),St=!1,O()}function x(t,a,e){var i=[],o=t/180*Math.PI;return $intWidthRotated=e*Math.abs(Math.sin(o))+a*Math.abs(Math.cos(o)),$intHeightRotated=e*Math.abs(Math.cos(o))+a*Math.abs(Math.sin(o)),i.push($intWidthRotated),i.push($intHeightRotated),i}function b(t){return"w"==t?Y.width():Y.height()}function y(){dt&&clearTimeout(dt),w(t(Tt[lt-1]).attr("data-current-id"))}function M(t){return!!K&&("right"==t?H():"left"==t&&k(),!1)}function O(){W&&!Gt&&T()}function C(){it&&clearTimeout(it),Vt.find("span").alterClass("ts-ecommerce-*","ts-ecommerce-play")}function T(){it&&clearTimeout(it),it=setTimeout(S,V),Vt.find("span").alterClass("ts-ecommerce-*","ts-ecommerce-pause")}function S(){St=!0,I("off"),p()}function I(t){"on"==t?(Wt.css("cursor","pointer"),qt.css("cursor","pointer")):(Wt.css("cursor","default"),qt.css("cursor","default"))}function k(){St=!0,I("off"),function(){var a=t(Tt[lt-1]).attr("data-current-id");parseInt(t(Tt[a]).attr("data-original-id"),10),n(),void 0!=Tt[a].data("captionSubArr")&&v(a);var e=t(z(0)),i=B(Lt,jt),o=B(At,Pt),r=0,s=0;if(u(),"verticalAbove"==$||"verticalRound"==$){var d="verticalRound"==$?wt:-wt;G?U?e.animate({top:d+"px"},{duration:Et,easing:"easeOutSine",step:function(t,a){s=Math.round(t*Et/d),r="verticalRound"==$?-s*i/Et:s*i/Et,setTimeout(function(){e.css(X,"rotate("+r+"deg)")},65)},complete:function(){g(e,o,r)}}):e.transition({rotate:i+"deg",top:d+"px",duration:Et,easing:"easeOutCubic",complete:function(){g(e,o),e.css(X,"rotate("+i+"deg)")}}):e.transition({top:d+"px",duration:Et,easing:"easeOutCubic",complete:function(){g(e)}})}else{var l="horizontalLeft"==$?-xt:xt;G?U?e.animate({left:l+"px"},{duration:Et,easing:"easeOutSine",step:function(t,a){s=Math.round(t*Et/l),r="horizontalLeft"==$?-s*i/Et:s*i/Et,setTimeout(function(){e.css(X,"rotate("+r+"deg)")},65)},complete:function(){m(e,o,r)}}):e.transition({rotate:i+"deg",left:l+"px",duration:Et,easing:"easeOutCubic",complete:function(){m(e,o),e.css(X,"rotate("+i+"deg)")}}):e.transition({left:l+"px",duration:Et,easing:"easeOutCubic",complete:function(){m(e)}})}}()}function H(){St=!0,I("off"),p()}function _(a){if(!K)return!1;a||(a=window.event),a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation();var e=a.currentTarget,i=t(e).attr("class");if("ts-polaroid-gallery-controls-prev"==i){if(St)return;k()}else if("ts-polaroid-gallery-controls-play"==i)W?(C(),W=!1):(W=!0,St||T());else if("ts-polaroid-gallery-controls-next"==i){if(St)return;H()}return!1}function R(a){if(!K)return!1;a||(a=window.event),a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation();var e=a.currentTarget,i=t(e).attr("class"),o=t(e).find("span");return"ts-polaroid-gallery-controls-prev"==i?o.attr("class","ts-ecommerce-arrowleft2"):"ts-polaroid-gallery-controls-play"==i?W?o.attr("class","ts-ecommerce-pause"):o.attr("class","ts-ecommerce-play"):"ts-polaroid-gallery-controls-next"==i&&o.attr("class","ts-ecommerce-arrowright2"),!1}function E(a){if(!K)return!1;a||(a=window.event),a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation();var e=a.currentTarget,i=t(e).attr("class"),o=t(e).find("span");return"ts-polaroid-gallery-controls-prev"==i?o.attr("class","ts-ecommerce-arrowleft2"):"ts-polaroid-gallery-controls-play"==i?W?o.attr("class","ts-ecommerce-pause"):o.attr("class","ts-ecommerce-play"):"ts-polaroid-gallery-controls-next"==i&&o.attr("class","ts-ecommerce-arrowright2"),!1}function z(a){var e,i=0;for(i;i<lt&&(e=t(Tt[i]),e.attr("data-current-id")!=a);i++);return e}function L(a){var e,i=0;for(i;i<lt&&(e=t(Tt[i]),e.attr("data-original-id")!=a);i++);return e}function A(){var a,e=0;for(e;e<lt;e++)(a=t(Tt[e])).attr("data-current-id",e),a.css("zIndex",e+bt)}function P(){var a,e=0;for(e;e<lt;e++)(a=t(Tt[e])).attr("data-current-id",e),a.css("zIndex",e+bt)}function B(t,a){return Math.random()*(a-t)+t}e.polaroidExternal;var F=e.polaroidMaxHeight,Q=e.polaroidStack,D=e.imageCounter,$=e.slideshowLayout,W=e.slideshowOn,V=e.slideshowDelay,q=e.fullSize,G=e.useRotation,N=e.rotationMargin,J=e.swipeOn,K=!1,U=!0,X=TS_VCSC_StyleSupport("transform");""!=X&&(U=!1);var Y=t(this),Z=Y.find(".ts-polaroid-gallery-images"),tt=Z.find(".ts-polaroid-gallery-slide"),at=Y.find(".ts-polaroid-gallery-counter"),et=Y.find(".ts-polaroid-gallery-preloader");Z.css("zIndex",0);var it,ot,rt,nt,st,dt,lt,ct,ut,pt,ht,ft,gt,mt,vt,wt,xt,bt=1,yt=J.split(","),Mt=0,Ot="width",Ct=[],Tt=[],St=!1,It=!1,kt=0,Ht=0,_t=500,Rt=500,Et=500,zt=500,Lt=-25,jt=-15,At=10,Pt=-10,Bt=0,Ft=0,Qt=150,Dt=500,$t=Y.find(".ts-polaroid-gallery-controls"),Wt=$t.find(".ts-polaroid-gallery-controls-prev"),Vt=$t.find(".ts-polaroid-gallery-controls-play"),qt=$t.find(".ts-polaroid-gallery-controls-next");Wt.bind("click touchstart",_),Vt.bind("click touchstart",_),qt.bind("click touchstart",_),Wt.bind("mouseover",R),Vt.bind("mouseover",R),qt.bind("mouseover",R),Wt.bind("mouseout",E),Vt.bind("mouseout",E),qt.bind("mouseout",E),W?Vt.find("span").alterClass("ts-ecommerce-*","ts-ecommerce-pause"):Vt.find("span").alterClass("ts-ecommerce-*","ts-ecommerce-play");var Gt=!1;return Z.mouseenter(function(){Gt=!0,W&&C()}).mouseleave(function(){Gt=!1,St||!W||It||T()}),jQuery(window).on("polaroidresizecontent",function(){o(!1)}),jQuery(window).on("debouncedresize",function(){jQuery(window).trigger("polaroidresizecontent")}),jQuery(window).on("pwstabsresizeafterinit",function(){Y.parents(".pws_tab_single").length>0&&o(!0)}),d(),this}}(jQuery);