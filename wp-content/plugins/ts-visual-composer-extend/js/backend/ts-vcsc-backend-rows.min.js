!function(e){e(document).ready(function(){if(void 0!==window.VcRowView){{vc.shortcodes}window.TS_VCSC_VcRowViewCustom=window.VcRowView.extend({buildDesignHelpers:function(){var a=this.model.get("params"),n=this.model.getParam("css"),r=this.model.getParam("ts_row_bg_effects"),t=this.model.getParam("bg_image"),o=this.model.getParam("ts_row_bg_image"),i=this.model.getParam("bg_color"),s=this.model.getParam("single_color"),c=this.model.getParam("gradiant_advanced"),g=this.model.getParam("gradient_generator"),d=this.$el.find("> .vc_controls .column_toggle"),l=this.$el.find("> .vc_controls .column_edit");if(""!=d.length)var m=d;else var m=l;var u,b,v=n.match(/background\-image:\s*url\(([^\)]+)\)/);v&&!_.isUndefined(v[1])&&(u=v[1]);var v=n.match(/background\-color:\s*([^\s\;]+)\b/);v&&!_.isUndefined(v[1])&&(b=v[1]);var v=n.match(/background:\s*([^\s]+)\b\s*url\(([^\)]+)\)/);if(v&&!_.isUndefined(v[1])&&(b=v[1],u=v[2]),this.$el.find("> .vc_controls .vc_row_color").remove(),this.$el.find("> .vc_controls .vc_row_image").remove(),this.$el.find("> .vc_controls .ts-vcsc-background-color").remove(),this.$el.find("> .vc_controls .ts-vcsc-background-image").remove(),this.$el.find("> .vc_controls .ts-vcsc-background-gradient").remove(),b?e('<span class="vc_row_color" style="background-color: '+b+'" title="'+i18nLocale.row_background_color+'"></span>').insertAfter(m):_.isEmpty(i)||e('<span class="vc_row_color" style="background-color: '+i+'" title="'+i18nLocale.row_background_color+'"></span>').insertAfter(m),"single"==r&&(_.isEmpty(s)||e('<span class="ts-vcsc-background-color" style="background-color: '+s+'" title="'+i18nLocale.row_background_color+'"></span>').insertAfter(m)),"gradient"==r){var p="",k=this.model.getParam("gradient_color_start"),w=this.model.getParam("gradient_start_offset"),f=this.model.getParam("gradient_color_end"),h=this.model.getParam("gradient_end_offset");void 0!=c?"true"!=c||_.isEmpty(g)?"false"!=c||_.isEmpty(k)||_.isEmpty(f)||(p+="background: "+k+";",p+="background: -moz-linear-gradient("+parseInt(a.gradient_angle)+"deg, "+k+" "+w+"%, "+f+" "+h+"%);",p+="background: -webkit-linear-gradient("+parseInt(a.gradient_angle)+"deg, "+k+" "+w+"%, "+f+" "+h+"%);",p+="background: -o-linear-gradient("+parseInt(a.gradient_angle)+"deg, "+k+" "+w+"%, "+f+" "+h+"%);",p+="background: -ms-linear-gradient("+parseInt(a.gradient_angle)+"deg, "+k+" "+w+"%, "+f+" "+h+"%);",p+="background: linear-gradient("+parseInt(a.gradient_angle)+"deg, "+k+" "+w+"%, "+f+" "+h+"%);"):p+=g:_.isEmpty(k)||_.isEmpty(f)||(p+="background: "+k+";",p+="background: -moz-linear-gradient("+parseInt(a.gradient_angle)+"deg, "+k+" "+w+"%, "+f+" "+h+"%);",p+="background: -webkit-linear-gradient("+parseInt(a.gradient_angle)+"deg, "+k+" "+w+"%, "+f+" "+h+"%);",p+="background: -o-linear-gradient("+parseInt(a.gradient_angle)+"deg, "+k+" "+w+"%, "+f+" "+h+"%);",p+="background: -ms-linear-gradient("+parseInt(a.gradient_angle)+"deg, "+k+" "+w+"%, "+f+" "+h+"%);",p+="background: linear-gradient("+parseInt(a.gradient_angle)+"deg, "+k+" "+w+"%, "+f+" "+h+"%);"),e('<span class="ts-vcsc-background-gradient" style="'+p+'" title="'+i18nLocale.row_background_color+'"></span>').insertAfter(m)}u?e('<span class="vc_row_image" style="background-image: url('+u+');" title="'+i18nLocale.row_background_image+'"></span>').insertAfter(m):_.isEmpty(t)||(u=e('<span class="vc_row_image" style="background-image: url('+e(".vc_loading_block > img").attr("src")+');" title="'+i18nLocale.row_background_image+'"></span>'),u.insertAfter(m),e.ajax({type:"POST",url:window.ajaxurl,data:{action:"wpb_single_image_src",content:t,size:"thumbnail",_vcnonce:window.vcAdminNonce},dataType:"html",context:this}).done(function(e){u.css({backgroundImage:"url("+e+")"})})),("image"==r||"fixed"==r||"parallax"==r||"automove"==r||"movement"==r)&&(_.isEmpty(o)||(u=e('<span class="ts-vcsc-background-image" style="background-image: url('+e(".vc_loading_block > img").attr("src")+');"title="'+i18nLocale.row_background_image+'"></span>'),u.insertAfter(m),e.ajax({type:"POST",url:window.ajaxurl,data:{action:"wpb_single_image_src",content:o,size:"thumbnail",_vcnonce:window.vcAdminNonce},dataType:"html",context:this}).done(function(e){u.css({backgroundImage:"url("+e+")"})})))}})}void 0!==window.VcSectionView&&(window.TS_VCSC_VcSectionViewCustom=window.VcSectionView.extend({buildDesignHelpers:function(){var a=this.model.get("params"),n=this.model.getParam("css"),r=this.model.getParam("ts_row_bg_effects"),t=this.model.getParam("bg_image"),o=this.model.getParam("ts_row_bg_image"),i=this.model.getParam("bg_color"),s=this.model.getParam("single_color"),c=this.model.getParam("gradiant_advanced"),g=this.model.getParam("gradient_generator"),d=this.$el.find("> .vc_controls .column_toggle"),l=this.$el.find("> .vc_controls .column_edit");if(""!=d.length)var m=d;else var m=l;var u,b,v=n.match(/background\-image:\s*url\(([^\)]+)\)/);v&&!_.isUndefined(v[1])&&(u=v[1]);var v=n.match(/background\-color:\s*([^\s\;]+)\b/);v&&!_.isUndefined(v[1])&&(b=v[1]);var v=n.match(/background:\s*([^\s]+)\b\s*url\(([^\)]+)\)/);if(v&&!_.isUndefined(v[1])&&(b=v[1],u=v[2]),this.$el.find("> .vc_controls .vc_row_color").remove(),this.$el.find("> .vc_controls .vc_row_image").remove(),this.$el.find("> .vc_controls .ts-vcsc-background-color").remove(),this.$el.find("> .vc_controls .ts-vcsc-background-image").remove(),this.$el.find("> .vc_controls .ts-vcsc-background-gradient").remove(),b?e('<span class="vc_row_color" style="background-color: '+b+'" title="'+i18nLocale.row_background_color+'"></span>').insertAfter(m):_.isEmpty(i)||e('<span class="vc_row_color" style="background-color: '+i+'" title="'+i18nLocale.row_background_color+'"></span>').insertAfter(m),"single"==r&&(_.isEmpty(s)||e('<span class="ts-vcsc-background-color" style="background-color: '+s+'" title="'+i18nLocale.row_background_color+'"></span>').insertAfter(m)),"gradient"==r){var p="",k=this.model.getParam("gradient_color_start"),w=this.model.getParam("gradient_start_offset"),f=this.model.getParam("gradient_color_end"),h=this.model.getParam("gradient_end_offset");void 0!=c?"true"!=c||_.isEmpty(g)?"false"!=c||_.isEmpty(k)||_.isEmpty(f)||(p+="background: "+k+";",p+="background: -moz-linear-gradient("+parseInt(a.gradient_angle)+"deg, "+k+" "+w+"%, "+f+" "+h+"%);",p+="background: -webkit-linear-gradient("+parseInt(a.gradient_angle)+"deg, "+k+" "+w+"%, "+f+" "+h+"%);",p+="background: -o-linear-gradient("+parseInt(a.gradient_angle)+"deg, "+k+" "+w+"%, "+f+" "+h+"%);",p+="background: -ms-linear-gradient("+parseInt(a.gradient_angle)+"deg, "+k+" "+w+"%, "+f+" "+h+"%);",p+="background: linear-gradient("+parseInt(a.gradient_angle)+"deg, "+k+" "+w+"%, "+f+" "+h+"%);"):p+=g:_.isEmpty(k)||_.isEmpty(f)||(p+="background: "+k+";",p+="background: -moz-linear-gradient("+parseInt(a.gradient_angle)+"deg, "+k+" "+w+"%, "+f+" "+h+"%);",p+="background: -webkit-linear-gradient("+parseInt(a.gradient_angle)+"deg, "+k+" "+w+"%, "+f+" "+h+"%);",p+="background: -o-linear-gradient("+parseInt(a.gradient_angle)+"deg, "+k+" "+w+"%, "+f+" "+h+"%);",p+="background: -ms-linear-gradient("+parseInt(a.gradient_angle)+"deg, "+k+" "+w+"%, "+f+" "+h+"%);",p+="background: linear-gradient("+parseInt(a.gradient_angle)+"deg, "+k+" "+w+"%, "+f+" "+h+"%);"),e('<span class="ts-vcsc-background-gradient" style="'+p+'" title="'+i18nLocale.row_background_color+'"></span>').insertAfter(m)}u?e('<span class="vc_row_image" style="background-image: url('+u+');" title="'+i18nLocale.row_background_image+'"></span>').insertAfter(m):_.isEmpty(t)||(u=e('<span class="vc_row_image" style="background-image: url('+e(".vc_loading_block > img").attr("src")+');" title="'+i18nLocale.row_background_image+'"></span>'),u.insertAfter(m),e.ajax({type:"POST",url:window.ajaxurl,data:{action:"wpb_single_image_src",content:t,size:"thumbnail",_vcnonce:window.vcAdminNonce},dataType:"html",context:this}).done(function(e){u.css({backgroundImage:"url("+e+")"})})),("image"==r||"fixed"==r||"parallax"==r||"automove"==r||"movement"==r)&&(_.isEmpty(o)||(u=e('<span class="ts-vcsc-background-image" style="background-image: url('+e(".vc_loading_block > img").attr("src")+');"title="'+i18nLocale.row_background_image+'"></span>'),u.insertAfter(m),e.ajax({type:"POST",url:window.ajaxurl,data:{action:"wpb_single_image_src",content:o,size:"thumbnail",_vcnonce:window.vcAdminNonce},dataType:"html",context:this}).done(function(e){u.css({backgroundImage:"url("+e+")"})})))}}))})}(jQuery);