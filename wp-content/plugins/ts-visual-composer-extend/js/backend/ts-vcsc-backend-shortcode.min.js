if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=jQuery.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(),function(t){"use strict";function e(e,s){return this.each(function(){var i=t(this),n=i.data("bs.modal"),r=t.extend({},o.DEFAULTS,i.data(),"object"==typeof e&&e);n||i.data("bs.modal",n=new o(this,r)),"string"==typeof e?n[e](s):r.show&&n.show(s)})}var o=function(e,o){this.options=o,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};o.VERSION="3.3.6",o.TRANSITION_DURATION=300,o.BACKDROP_TRANSITION_DURATION=150,o.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},o.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},o.prototype.show=function(e){var s=this,i=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){s.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(s.$element)&&(s.ignoreBackdropClick=!0)})}),this.backdrop(function(){var i=t.support.transition&&s.$element.hasClass("fade");s.$element.parent().length||s.$element.appendTo(s.$body),s.$element.show().scrollTop(0),s.adjustDialog(),i&&s.$element[0].offsetWidth,s.$element.addClass("in"),s.enforceFocus();var n=t.Event("shown.bs.modal",{relatedTarget:e});i?s.$dialog.one("bsTransitionEnd",function(){s.$element.trigger("focus").trigger(n)}).emulateTransitionEnd(o.TRANSITION_DURATION):s.$element.trigger("focus").trigger(n)}))},o.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(o.TRANSITION_DURATION):this.hideModal())},o.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},o.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},o.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},o.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},o.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},o.prototype.backdrop=function(e){var s=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=t.support.transition&&i;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;n?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(o.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){s.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(o.BACKDROP_TRANSITION_DURATION):r()}else e&&e()},o.prototype.handleUpdate=function(){this.adjustDialog()},o.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},o.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},o.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},o.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},o.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},o.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var s=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=o,t.fn.modal.noConflict=function(){return t.fn.modal=s,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(o){var s=t(this),i=s.attr("href"),n=t(s.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),r=n.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},n.data(),s.data());s.is("a")&&o.preventDefault(),n.one("show.bs.modal",function(t){t.isDefaultPrevented()||n.one("hidden.bs.modal",function(){s.is(":visible")&&s.trigger("focus")})}),e.call(n,r,this)})}(jQuery),function(t){"use strict";t.fn.emulateTransitionEnd=function(e){var o=!1,s=this;t(this).one("bsTransitionEnd",function(){o=!0});return setTimeout(function(){o||t(s).trigger(t.support.transition.end)},e),this},t(function(){t.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var o in e)if(void 0!==t.style[o])return{end:e[o]};return!1}(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(t){t(document).ready(function(){window.i18nLocale;if(void 0!==window.VcColumnView){var e=Backbone.View.extend({initialize:function(){var t=this;t.feedback="",t.message="",vc.shortcodes.on("add",t.shortcodeDataNew,t),vc.shortcodes.on("reset",t.shortcodeDataReset,t),0==jQuery("#ts-vcsc-shortcode-popup-main").length?(t.modal_popup=jQuery('<div id="ts-vcsc-shortcode-popup-main" class="ts-vcsc-shortcode-popup-main vc_modal" style="display: none;"><div id="ts-vcsc-shortcode-popup-dialog" class="vc_modal-dialog modal-dialog"><div id="ts-vcsc-shortcode-popup-content" class="vc_modal-content"><div id="ts-vcsc-shortcode-popup-head" class="vc_modal-header vc_ui-panel-header-container"><button id="ts-vcsc-shortcode-popup-close" class="vc_general vc_ui-control-button vc_ui-close-button vc_close"><i class="vc_ui-icon-pixel vc_ui-icon-pixel-close"></i></button><div id="ts-vcsc-shortcode-popup-title">Element Shortcode</div><div id="ts-vcsc-shortcode-popup-element">Element Name</div></div><div id="ts-vcsc-shortcode-popup-intro"></div><div id="ts-vcsc-shortcode-popup-body"><span id="ts-vcsc-shortcode-popup-message"></span><textarea id="ts-vcsc-shortcode-popup-code" readonly="readonly"></textarea></div><div id="ts-vcsc-shortcode-popup-footer"><button id="ts-vcsc-shortcode-popup-cancel" class="vc_general vc_ui-button vc_ui-button-default vc_ui-button-shape-rounded vc_ui-button-fw">Close</button><button id="ts-vcsc-shortcode-popup-copy" data-clipboard-target="#ts-vcsc-shortcode-popup-code" class="vc_general vc_ui-button vc_ui-button-action vc_ui-button-shape-rounded vc_ui-button-fw">Copy Shortcode</button></div></div></div>'),jQuery("body").append(t.modal_popup)):t.modal_popup=jQuery("#ts-vcsc-shortcode-popup-main"),jQuery(window).on("resize",function(){t.shortcodeHelperResize(),jQuery(t.modal_popup).modal("handleUpdate")}),jQuery("#ts-vcsc-shortcode-popup-close, #ts-vcsc-shortcode-popup-cancel").off().on("click",function(e){e.preventDefault(),jQuery(t.modal_popup).modal("hide")}),t.feedback="";new Clipboard("#ts-vcsc-shortcode-popup-copy").off().on("success",function(e){e.clearSelection(),t.feedback='<div class="ts-vcsc-notice-field ts-vcsc-success">The shortcode for element '+t.message+" has been copied to your clipboard!</div>",jQuery("#ts-vcsc-shortcode-popup-message").removeAttr("class").addClass("ts-vcsc-shortcode-popup-success").addClass("ts-vcsc-shortcode-popup-visible"),jQuery("#ts-vcsc-shortcode-popup-message").html(t.feedback),setTimeout(function(){jQuery("#ts-vcsc-shortcode-popup-message").removeAttr("class")},7500)}).on("error",function(e){e.clearSelection(),t.feedback='<div class="ts-vcsc-notice-field ts-vcsc-critical">The shortcode for element '+t.message+" could NOT be copied to your clipboard!</div>",jQuery("#ts-vcsc-shortcode-popup-message").removeAttr("class").addClass("ts-vcsc-shortcode-popup-error").addClass("ts-vcsc-shortcode-popup-visible"),jQuery("#ts-vcsc-shortcode-popup-message").html(t.feedback),setTimeout(function(){jQuery("#ts-vcsc-shortcode-popup-message").removeAttr("class")},7500)})},shortcodeDataNew:function(t){this.shortcodeDataButton(t)},shortcodeDataReset:function(t){var e=this;_.each(t.models,function(t){e.shortcodeDataButton(t)})},shortcodeDataButton:function(e){var o=this,s="",i="",n="",r="",c="",d=e.get("id"),a=jQuery('[data-model-id="'+d+'"]'),p=jQuery("#vc_ui-panel-add-element");if(void 0!==$TS_VCSC_CurrentComposerRelease)if(0===$TS_VCSC_CurrentComposerRelease.indexOf("5"))l='style="height: 18px;"';else l='style="height: 16px;"';else var l='style="height: 16px;"';a.find(".controls, .vc_controls").each(function(){0==jQuery(this).find(".ts-vcsc-shortcode-popup-icon").length&&(jQuery(this).hasClass("controls_row")||jQuery(this).hasClass("vc_controls-row")?jQuery('<a class="vc_control column_shortcode ts-vcsc-shortcode-popup-icon column_shortcode" href="#" data-initialized="false" data-vc-control="shortcode"title="Show Shortcode"><i class="ts-vcsc-shortcode-icon-container" '+l+"></i></a>").insertBefore(jQuery(this).find(".column_delete")):jQuery('<a class="vc_control column_shortcode ts-vcsc-shortcode-popup-icon column_shortcode" href="#" data-initialized="false" data-vc-control="shortcode"title="Show Shortcode"><i class="ts-vcsc-shortcode-icon-container"></i></a>').insertAfter(jQuery(this).find(".column_delete")))}),a.find(".vc_controls").each(function(){0==jQuery(this).find(".ts-vcsc-shortcode-popup-icon").length&&jQuery('<a class="vc_control-btn vc_control-btn-shortcode ts-vcsc-shortcode-popup-icon" href="#" data-initialized="false"><span class="vc_btn-content" title="Show Shortcode"><span class="ts-vcsc-shortcode-icon-element"></span></span></a>').insertAfter(jQuery(this).find(".vc_control-btn-delete"))}),"false"==a.find(".ts-vcsc-shortcode-popup-icon").attr("data-initialized")&&(a.find(".ts-vcsc-shortcode-popup-icon").off().on("click",function(e){e.stopPropagation(),e.preventDefault();var a=jQuery(this).closest("[data-model-id]").data("model"),l=_.filter(_.values(vc.storage.data),function(t){return t.id===a.id});i="",c={},jQuery.each(l,function(e,o){t.each(o,function(t,e){"id"==t?d=e:"shortcode"==t?i=e:"params"==t&&(c=e)})}),c=JSON.stringify(c),n="",s="",r="","vc_column"==i?(n="Column",s="Column",r="ts-vcsc-shortcode-popup-noinfo"):(n=p.find("a#"+i).html(),""!=(s=o.shortcodeHelperBetween(p.find("a#"+i).find(".vc_element-icon"),p.find("a#"+i).find(".vc_element-description")))&&"undefined"!=s&&void 0!=s||(r="ts-vcsc-shortcode-popup-noinfo")),o.message=""!=s&&"undefined"!=s&&void 0!=s?'"'+s+'" (#'+d+")":"#"+d,l=_.sortBy(l,function(t){return t.order});var h=_.reduce(l,function(t,e){return e.html=o.shortcodeHelperString(e),t+e.html},"",this);jQuery("#ts-vcsc-shortcode-popup-element").removeAttr("class").addClass(r),jQuery("#ts-vcsc-shortcode-popup-element").html(n),jQuery("#ts-vcsc-shortcode-popup-intro").html(i),jQuery("#ts-vcsc-shortcode-popup-message").removeAttr("class"),jQuery("#ts-vcsc-shortcode-popup-code").text(h),jQuery(o.modal_popup).modal("show"),o.shortcodeHelperResize()}),a.find(".ts-vcsc-shortcode-popup-icon").attr("data-initialized","true"))},shortcodeHelperResize:function(){jQuery("#ts-vcsc-shortcode-popup-body").height("auto"),jQuery("#ts-vcsc-shortcode-popup-code").height("auto");var t=parseInt(jQuery("#ts-vcsc-shortcode-popup-body").css("padding-top").replace("px","").replace("%","")),e=parseInt(jQuery("#ts-vcsc-shortcode-popup-body").css("padding-bottom").replace("px","").replace("%","")),o=parseInt(jQuery("#ts-vcsc-shortcode-popup-code").css("padding-top").replace("px","").replace("%","")),s=parseInt(jQuery("#ts-vcsc-shortcode-popup-code").css("padding-bottom").replace("px","").replace("%","")),i=jQuery(window).height()/100*96-t-e,n=(jQuery("#ts-vcsc-shortcode-popup-content").outerHeight(!0),i-jQuery("#ts-vcsc-shortcode-popup-head").outerHeight(!0)-jQuery("#ts-vcsc-shortcode-popup-intro").outerHeight(!0)-jQuery("#ts-vcsc-shortcode-popup-footer").outerHeight(!0)),r=jQuery("#ts-vcsc-shortcode-popup-code")[0].scrollHeight+o+s;r<n+t+e&&(n=r+t+e),jQuery("#ts-vcsc-shortcode-popup-code").css({height:r+"px","max-height":n-t-e+"px"}),jQuery("#ts-vcsc-shortcode-popup-body").css({height:n+"px"})},shortcodeHelperString:function(t){var e=_.extend({},t.params),o={};_.each(e,function(t,e){"content"===e||_.isEmpty(t)||(o[e]=this.shortcodeHelperParameter(t))},this);var s=this.shortcodeHelperContent(t),i=_.isObject(vc.map[t.shortcode])&&_.isBoolean(vc.map[t.shortcode].is_container)&&!0===vc.map[t.shortcode].is_container;return i||!_.isObject(vc.map[t.shortcode])||_.isEmpty(vc.map[t.shortcode].as_parent)||(i=!0),"<br />"!=jQuery.trim(s)&&"<br/>"!=jQuery.trim(s)||(s=""),wp.shortcode.string({tag:t.shortcode,attrs:o,content:s,type:!i&&_.isUndefined(e.content)?"single":""})},shortcodeHelperContent:function(t){var e=this,o=_.sortBy(_.filter(vc.storage.data,function(e){return e.parent_id===t.id}),function(t){return t.order}),s={};return _.extend(s,t.params),o.length?_.reduce(o,function(t,o){return t+e.shortcodeHelperString(o)},""):(!_.isUndefined(window.switchEditors)&&_.isString(s.content)&&window.switchEditors.wpautop(s.content)===s.content&&(s.content=window.vc_wpautop(s.content)),_.isUndefined(s.content)?"":s.content)},shortcodeHelperParameter:function(t){return _.isString(t)?t.replace(/"/g,"``"):_.isUndefined(t)||_.isNull(t)||!t.toString?"":t.toString().replace(/"/g,"``")},shortcodeHelperBetween:function(t,e){var o=t.parent().contents();return jQuery.trim(o.slice(o.index(t)+1,o.index(e)).text())}});jQuery(function(){new e})}})}(jQuery);