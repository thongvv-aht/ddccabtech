function TS_VCSC_NL2BR(t,e){var a=e||void 0===e?"<br/>":"<br>";return(t+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+a+"$2")}function TS_VCSC_GetStringBetween(t,e,a){var n=t.match(e+"(.*?)"+a);return null!=n?n[1]:""}!function(t){t(document).ready(function(){window.i18nLocale;if(void 0!==window.VcColumnView){var e=vc.shortcodes;window.TS_VCSC_HotspotContainerViewCustom=window.VcColumnView.extend({addElement:function(t){_.isObject(t)&&t.preventDefault();var e=this.$el.attr("data-hotspot-image"),a=this.$el.attr("data-hotspot-link");$TS_VCSC_Hotspot_Image_ID=e,$TS_VCSC_Hotspot_Image_Link=a,window.TS_VCSC_HotspotContainerViewCustom.__super__.addElement.call(this,t)},buildDesignHelpers:function(){var a=this.model.get("params"),n=(this.model.getParam("css"),a.hotspot_image,this.$el.find("> .vc_controls .column_add").get(0),this.$el),o=n.attr("data-model-id");e.where({parent_id:this.model.id});_.isEmpty(a.hotspot_image)||(n.find("> .vc_controls .column_add").hide(),n.find(".wpb_element_wrapper").append('<div class="ts-backend-editor-loader"></div>'),n.find("> .wpb_element_wrapper .wpb_column_container .wpb_TS_VCSC_Image_Hotspot_Single").attr("data-hotspot-image",a.hotspot_image),n.find("> .wpb_element_wrapper .wpb_column_container .wpb_TS_VCSC_Image_Hotspot_Single").attr("data-hotspot-parent",o),n.find("> .wpb_element_wrapper .wpb_column_container").attr("data-hotspot-image",a.hotspot_image),n.attr("data-hotspot-image",a.hotspot_image),t.ajax({type:"POST",url:window.ajaxurl,data:{action:"wpb_single_image_src",content:a.hotspot_image,size:"large",_vcnonce:window.vcAdminNonce},dataType:"html",context:this}).done(function(t){n.find(".wpb_element_wrapper").find(".ts-backend-editor-loader").remove(),n.find("> .vc_controls .column_add").show(),n.find("> .wpb_element_wrapper .wpb_column_container .wpb_TS_VCSC_Image_Hotspot_Single").attr("data-hotspot-link",t),n.find("> .wpb_element_wrapper .wpb_column_container .wpb_TS_VCSC_Image_Hotspot_Single").attr("data-hotspot-image",a.hotspot_image),n.find("> .wpb_element_wrapper .wpb_column_container .wpb_TS_VCSC_Image_Hotspot_Single").attr("data-hotspot-parent",o),n.find("> .wpb_element_wrapper .wpb_column_container").attr("data-hotspot-link",t),n.find("> .wpb_element_wrapper .wpb_column_container").attr("data-hotspot-image",a.hotspot_image),n.attr("data-hotspot-link",t)}).fail(function(){n.find(".wpb_element_wrapper").find(".ts-backend-editor-loader").remove(),n.find("> .vc_controls .column_add").show()}))}}),window.TS_VCSC_HotspotSingleViewCustom=vc.shortcode_view.extend({editElement:function(e){_.isObject(e)&&e.preventDefault();this.model.get("params");var a=this.$el,n=a.parent().attr("data-hotspot-image");if(void 0==a.attr("data-hotspot-current")||0==a.attr("data-hotspot-current").length)o=n;else var o=a.attr("data-hotspot-current");a.attr("data-hotspot-image",n);if(void 0==a.parent().attr("data-hotspot-link")||0==a.parent().attr("data-hotspot-link").length||o!=n)t.ajax({type:"POST",url:window.ajaxurl,data:{action:"wpb_single_image_src",content:n,size:"medium",_vcnonce:window.vcAdminNonce},dataType:"html",context:this}).done(function(t){$TS_VCSC_Hotspot_Image_ID=n,$TS_VCSC_Hotspot_Image_Link=t,a.attr("data-hotspot-link",t),a.attr("data-hotspot-current",n)}).fail(function(){var t=a.parent().attr("data-hotspot-link");$TS_VCSC_Hotspot_Image_Link=t,$TS_VCSC_Hotspot_Image_ID=a.parent().attr("data-hotspot-image")});else{var i=a.parent().attr("data-hotspot-link");$TS_VCSC_Hotspot_Image_Link=i,$TS_VCSC_Hotspot_Image_ID=a.parent().attr("data-hotspot-image")}window.TS_VCSC_HotspotSingleViewCustom.__super__.editElement.call(this,e)}}),window.TS_VCSC_IconTabsContainerViewCustom=vc.shortcode_view.extend({new_tab_adding:!1,events:{"click .add_tab":"addTab","click > .vc_controls .vc_control-btn-delete":"deleteShortcode","click > .vc_controls .vc_control-btn-edit":"editElement","click > .vc_controls .vc_control-btn-clone":"clone","click .wpb_save_edit_form":"save"},initialize:function(t){window.TS_VCSC_IconTabsContainerViewCustom.__super__.initialize.call(this,t),_.bindAll(this,"stopSorting")},render:function(){window.TS_VCSC_IconTabsContainerViewCustom.__super__.render.call(this);var t=this.model.get("params");return this.$tabs=this.$el.find(".wpb_tabs_holder"),this.createAddTabButton(),t.tab_contid||(t.tab_contid=+new Date+"-"+Math.floor(11*Math.random()),this.model.save("params",t)),this.id="tabs-"+t.tab_contid,this.$el.attr("id",this.id),this},ready:function(t){return window.TS_VCSC_IconTabsContainerViewCustom.__super__.ready.call(this,t),this},createAddTabButton:function(){var e=+new Date+"-"+Math.floor(11*Math.random());this.$tabs.append('<div id="new-tab-'+e+'" class="new_element_button"></div>'),this.$add_button=t('<li class="add_tab_block"><a href="#new-tab-'+e+'" class="add_tab" title="'+window.i18nLocale.add_tab+'"></a></li>').appendTo(this.$tabs.find(".tabs_controls"))},addTab:function(t){t.preventDefault(),this.new_tab_adding=!0;var e=window.i18nLocale.tab,a=this.$tabs.find('[data-element_type="TS_VCSC_Fancy_Tabs_Single"]').length,n=+new Date+"-"+a+"-"+Math.floor(11*Math.random());return vc.shortcodes.create({shortcode:"TS_VCSC_Fancy_Tabs_Single",params:{title:e,tab_id:n},parent_id:this.model.id}),!1},stopSorting:function(e,a){var n;this.$tabs.find("ul.tabs_controls li:not(.add_tab_block)").each(function(e){t(this).find("a").attr("href").replace("#","");n=vc.shortcodes.get(t('[id="'+t(this).attr("aria-controls")+'"]').data("model-id")),vc.storage.lock(),n.save({order:t(this).index()})}),n.save()},changedContent:function(e){var a=e.model.get("params");if(this.$tabs.hasClass("ui-tabs")||(this.$tabs.tabs({select:function(e,a){return!t(a.tab).hasClass("add_tab")}}),this.$tabs.find(".ui-tabs-nav").prependTo(this.$tabs),this.$tabs.find(".ui-tabs-nav").sortable({axis:"vc_tour"==this.$tabs.closest("[data-element_type]").data("element_type")?"y":"x",update:this.stopSorting,items:"> li:not(.add_tab_block)"})),!0===e.model.get("cloned")){e.model.get("cloned_from");var n=t(".tabs_controls > .add_tab_block",this.$content),o=t("<li><a href='#tab-"+a.tab_id+"'>"+a.title+"</a></li>").insertBefore(n);this.$tabs.tabs("refresh"),this.$tabs.tabs("option","active",o.index())}else a.icon&&"transparent"!=a.icon&&void 0!=a.icon?a.color_tab&&"true"==a.customize&&void 0!=a.color_tab?t("<li><i class='ts-tab-icon "+a.icon+"'></i><a href='#tab-"+a.tab_id+"'>"+a.title+"</a><span class='ts-tab-background' style='background: "+a.color_tab+";'></span></li>").insertBefore(this.$add_button):t("<li><i class='ts-tab-icon "+a.icon+"'></i><a href='#tab-"+a.tab_id+"'>"+a.title+"</a></li>").insertBefore(this.$add_button):a.color_tab&&"true"==a.customize&&void 0!=a.color_tab?t("<li><a href='#tab-"+a.tab_id+"'>"+a.title+"</a><span class='ts-tab-background' style='background: "+a.color_tab+";'></span></li>").insertBefore(this.$add_button):t("<li><a href='#tab-"+a.tab_id+"'>"+a.title+"</a></li>").insertBefore(this.$add_button),this.$tabs.tabs("refresh"),this.$tabs.tabs("option","active",this.new_tab_adding?t(".ui-tabs-nav li",this.$content).length-2:0);this.new_tab_adding=!1},cloneModel:function(a,n,o){var i,s=_.isBoolean(o)&&!0===o?a.get("order"):parseFloat(a.get("order"))+vc.clone_index,r=_.extend({},a.get("params"));return"TS_VCSC_Fancy_Tabs_Container"===a.get("shortcode")&&_.extend(r,{tab_contid:+new Date+"-"+t(".wpb_TS_VCSC_Fancy_Tabs_Container").length+"-"+Math.floor(11*Math.random())}),"TS_VCSC_Fancy_Tabs_Single"===a.get("shortcode")&&_.extend(r,{tab_id:+new Date+"-"+t(".wpb_TS_VCSC_Fancy_Tabs_Single").length+"-"+Math.floor(11*Math.random())}),i=e.create({shortcode:a.get("shortcode"),id:vc_guid(),parent_id:n,order:s,cloned:"TS_VCSC_Fancy_Tabs_Single"!==a.get("shortcode"),cloned_from:a.toJSON(),params:r}),_.each(e.where({parent_id:a.id}),function(t){this.cloneModel(t,i.get("id"),!0)},this),i}}),window.TS_VCSC_IconTabsSingleViewCustom=window.VcColumnView.extend({events:{"click > .vc_controls .vc_control-btn-delete":"deleteShortcode","click > .vc_controls .vc_control-btn-prepend":"addElement","click > .vc_controls .vc_control-btn-edit":"editElement","click > .vc_controls .vc_control-btn-clone":"clone","click > .wpb_element_wrapper > .vc_empty-container":"addToEmpty"},render:function(){var t=this.model.get("params");return window.TS_VCSC_IconTabsSingleViewCustom.__super__.render.call(this),t.tab_id||(t.tab_id=+new Date+"-"+Math.floor(11*Math.random()),this.model.save("params",t)),this.id="tab-"+t.tab_id,this.$el.attr("id",this.id),this},ready:function(t){window.TS_VCSC_IconTabsSingleViewCustom.__super__.ready.call(this,t),this.$tabs=this.$el.closest(".wpb_tabs_holder");this.model.get("params");return this},changeShortcodeParams:function(e){var a=e.get("params");e._changing,t(".ui-tabs-nav").find("a.ui-tabs-anchor");window.TS_VCSC_IconTabsSingleViewCustom.__super__.changeShortcodeParams.call(this,e),_.isObject(a)&&_.isString(a.title)&&_.isString(a.tab_id)&&t(".ui-tabs-nav").find('a[href="#tab-'+a.tab_id+'"]').text(a.title),t('.ui-tabs-nav [href="#tab-'+a.tab_id+'"]').parent().find("i.ts-tab-icon").remove(),a.icon&&"transparent"!=a.icon&&void 0!=a.icon&&t('.ui-tabs-nav [href="#tab-'+a.tab_id+'"]').before("<i class='ts-tab-icon "+a.icon+"'></i>"),t('.ui-tabs-nav [href="#tab-'+a.tab_id+'"]').parent().find("span.ts-tab-background").remove(),"true"==a.customize&&void 0!=a.color_tab&&t('.ui-tabs-nav [href="#tab-'+a.tab_id+'"]').after("<span class='ts-tab-background' style='background: "+a.color_tab+";'></span>")},deleteShortcode:function(e){_.isObject(e)&&e.preventDefault();var a=confirm(window.i18nLocale.press_ok_to_delete_section),n=this.model.get("parent_id");if(!0!==a)return!1;if(this.model.destroy(),!vc.shortcodes.where({parent_id:n}).length)return vc.shortcodes.get(n).destroy(),!1;var o=this.model.get("params"),i=t('[href="#tab-'+o.tab_id+'"]',this.$tabs).parent().index();t('[href="#tab-'+o.tab_id+'"]').parent().remove();var s=this.$tabs.find(".ui-tabs-nav li:not(.add_tab_block)").length;s>0&&this.$tabs.tabs("refresh"),i<s?this.$tabs.tabs("option","active",i):s>0&&this.$tabs.tabs("option","active",s-1)},cloneModel:function(t,a,n){var o=_.isBoolean(n)&&!0===n?t.get("order"):parseFloat(t.get("order"))+vc.clone_index,i=_.extend({},t.get("params"));"TS_VCSC_Fancy_Tabs_Single"===t.get("shortcode")&&_.extend(i,{tab_id:+new Date+"-"+this.$tabs.find('[data-element_type="TS_VCSC_Fancy_Tabs_Single"]').length+"-"+Math.floor(11*Math.random())});var s=e.create({shortcode:t.get("shortcode"),parent_id:a,order:o,cloned:!0,cloned_from:t.toJSON(),params:i});return _.each(e.where({parent_id:t.id}),function(t){this.cloneModel(t,s.id,!0)},this),s}}),window.TS_VCSC_ProcessLinesContainerViewCustom=window.VcColumnView.extend({addElement:function(t){_.isObject(t)&&t.preventDefault();var e=this.model.get("params");return vc.shortcodes.create({shortcode:"TS_VCSC_ProcessLines_Item",params:{timeline_style:e.timeline_style},parent_id:this.model.id}),!1},buildDesignHelpers:function(){var t=this.model.get("params"),e=this.$el,a=e.attr("data-model-id"),n="",o=null;_.isEmpty(t.timeline_style)||(n=t.timeline_style,e.find("> .wpb_element_wrapper .wpb_column_container .wpb_TS_VCSC_ProcessLines_Item").attr("data-process-style",n),e.find("> .wpb_element_wrapper .wpb_column_container .wpb_TS_VCSC_ProcessLines_Item").attr("data-process-parent",a),e.find("> .wpb_element_wrapper .wpb_column_container").attr("data-process-style",n),e.attr("data-process-style",n),jQuery.each(vc.shortcodes.where({parent_id:this.model.id}),function(t,e){(o=e.get("params")).timeline_style!=n&&(o.timeline_style=n,vc.storage.lock(),e.save("params",o)),o=null}))}}),window.TS_VCSC_ProcessLinesItemViewCustom=vc.shortcode_view.extend({editElement:function(t){return _.isObject(t)&&t.preventDefault(),window.TS_VCSC_ProcessLinesItemViewCustom.__super__.editElement.call(this,t),this},render:function(){return window.TS_VCSC_ProcessLinesItemViewCustom.__super__.render.call(this),this},ready:function(t){return window.TS_VCSC_ProcessLinesItemViewCustom.__super__.ready.call(this,t),this},changeShortcodeParams:function(t){return window.TS_VCSC_ProcessLinesItemViewCustom.__super__.changeShortcodeParams.call(this,t),this}}),window.TS_VCSC_CircleStepSingleViewCustom=window.VcColumnView.extend({events:{"click > .vc_controls .vc_control-btn-delete":"deleteShortcode","click > .vc_controls .vc_control-btn-prepend":"addElement","click > .vc_controls .vc_control-btn-edit":"editElement","click > .vc_controls .vc_control-btn-clone":"clone","click > .wpb_element_wrapper > .vc_empty-container":"addToEmpty"},render:function(){var t=this.model.get("params");return window.TS_VCSC_CircleStepSingleViewCustom.__super__.render.call(this),t.hash_id||(t.hash_id="step-"+ +new Date+"-"+Math.floor(1e6*Math.random()),this.model.save("params",t)),this.id="circle-"+t.hash_id,this.$el.attr("id",this.id),this},ready:function(t){return window.TS_VCSC_IconTabsSingleViewCustom.__super__.ready.call(this,t),this},changeShortcodeParams:function(t){return window.TS_VCSC_CircleStepSingleViewCustom.__super__.changeShortcodeParams.call(this,t),this},cloneModel:function(t,a,n){var o=_.isBoolean(n)&&!0===n?t.get("order"):parseFloat(t.get("order"))+vc.clone_index,i=_.extend({},t.get("params")),s="step-"+ +new Date+"-"+Math.floor(1e6*Math.random());"TS_VCSC_Circle_Steps_Item"===t.get("shortcode")&&_.extend(i,{hash_id:s});var r=e.create({shortcode:t.get("shortcode"),parent_id:a,order:o,cloned:!0,cloned_from:t.toJSON(),params:i});return _.each(e.where({parent_id:t.id}),function(t){this.cloneModel(t,r.id,!0)},this),r}}),window.TS_VCSC_VCWidgetTemplateViewCustom=window.vc.shortcode_view.extend({changeShortcodeParams:function(t){var e=t.get("params");window.TS_VCSC_VCWidgetTemplateViewCustom.__super__.changeShortcodeParams.call(this,t),this.$el.find(".vc_controls-cc").find(".ts-vcsc-template-edit-button").remove(),""!=e.widgets_id&&void 0!=e.widgets_id&&"transparent"!=e.widgets_id&&window.TS_VCSC_TemplateEditButton&&(link=window.TS_VCSC_TemplateEditButton.replace("{{id}}",e.widgets_id),this.$el.find(".vc_controls-cc").append(link))}})}jQuery(window).on("debouncedresize",function(t){})})}(jQuery),function(t){var e,a,n=t.event;e=n.special.debouncedresize={setup:function(){t(this).on("resize",e.handler)},teardown:function(){t(this).off("resize",e.handler)},handler:function(t,o){var i=this,s=arguments,r=function(){t.type="debouncedresize",n.dispatch.apply(i,s)};a&&clearTimeout(a),o?r():a=setTimeout(r,e.threshold)},threshold:150},t.event.special.debouncedresize.threshold=250}(jQuery);