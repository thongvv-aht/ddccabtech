!function(t){t.fn.TS_VCSC_Circliful=function(e,i){var a=t.extend({fgcolor:"#556b2f",bgcolor:"#eee",fill:!1,width:15,responsive:!0,dimension:200,maxsize:250,fontsize:30,fontcolor:"#676767",infosize:15,infocolor:"#999999",percent:50,animationstep:1,iconsize:30,iconcolor:"#dddddd",iconposition:"left",border:"default",type:"full",complete:null},e);return this.each(function(){function t(t,e,i){if(0!=p.length)a=j+'<span id="'+g+'-value">'+p+"</span>"+Q;else var a="";0==p.length&&0==c.length?"half"==K?jQuery("<span></span>").appendTo(t).addClass(e).attr("id",g+"-text").html(a).prepend(icon).css({"line-height":P+"px",height:P+"px",top:u/2-P+"px",color:I}):jQuery("<span></span>").appendTo(t).addClass(e).attr("id",g+"-text").html(a).prepend(icon).css({"line-height":P+"px",height:P+"px",top:(u-P)/2+"px",color:I}):(1==F&&p.length,"left"==T?jQuery("<span></span>").appendTo(t).addClass(e).attr("id",g+"-text").html(a).prepend(icon).css({"line-height":i+"px","font-size":z+"px",color:I}):jQuery("<span></span>").appendTo(t).addClass(e).attr("id",g+"-text").html(a).append(icon).css({"line-height":i+"px","font-size":z+"px",color:I}))}function i(t,e){jQuery("<span></span>").appendTo(t).addClass("circle-info-half").text(c).css({"line-height":u*e+"px","font-size":b+"px",color:C})}function n(t){_.clearRect(0,0,W.width,W.height),_.beginPath(),_.arc(q,A,E,U,R,!1),_.lineWidth=x+1,_.strokeStyle=m,_.stroke(),l&&(_.fillStyle=d.fill,_.fill()),_.beginPath(),_.arc(q,A,E,-J,H*t-J,!1),"outline"==d.border?_.lineWidth=x+.75*x:"inline"==d.border&&(_.lineWidth=x-.75*x),_.strokeStyle=y,_.stroke(),V<S&&(V+=B,requestAnimationFrame(function(){n(Math.min(V,S)/100)},s)),V==S&&L&&void 0!==e&&jQuery.isFunction(e.complete)&&(e.complete(),L=!1)}function o(){s.attr("data-triggered","true"),n((V=D)/100),0!=p.length&&new CountItUp(N,0,p,$,1.5,{useEasing:!0,useGrouping:!0,separator:tt,decimal:et}).start(),0==X&&s.off("inview")}var r=["id","responsive","fgcolor","bgcolor","type","fill","width","dimension","maxsize","fontsize","fontcolor","infosize","infocolor","animationstep","endPercent","text","info","seperator","decimals","prefix","postfix","group","fontsize","icon","image","iconcolor","iconsize","iconposition","border"],d={},s=jQuery(this),l=!1,p="",c="";s.addClass("circliful"),function(t){jQuery.each(r,function(e,i){void 0!=t.data(i)?d[i]=t.data(i):d[i]=jQuery(a).attr(i),"fill"==i&&void 0!=t.data("fill")&&(l=!0)})}(s);var h=s.parent().width(),f=d.responsive,u=parseInt(d.dimension),g=d.id,x=parseInt(d.width),v=parseInt(d.maxsize);u=1==f?h>v?v:h:u;var y=d.fgcolor,m=d.bgcolor,w=d.animationstep,j=d.prefix,Q=d.postfix,z=d.fontsize,I=d.fontcolor,b=d.infosize,C=d.infocolor,P=d.iconsize,M=d.iconcolor,T=d.iconposition;if(void 0!=s.data("total")&&void 0!=s.data("part"))var k=s.data("total")/100,S=((s.data("part")/k/100).toFixed(3),(s.data("part")/k).toFixed(3));else if(void 0!=s.data("percent")){s.data("percent");S=s.data("percent")}else{a.percent;S=0}if(void 0!=s.data("text")){if(p=s.data("text"),0!=p.length?(j=jQuery(this).data("prefix"),Q=jQuery(this).data("postfix")):(p="",j="",Q=""),void 0!=s.data("icon")&&"transparent"!=s.data("icon")){icon=jQuery("<i></i>").addClass("ts-font-icon circle-icon "+s.data("icon")).attr("id",g+"-icon").css({color:M,"font-size":P+"px",height:P+"px",width:P+"px","line-height":P+"px",margin:0!=p.length?"0 5px":0});F=!0}else if(void 0!=s.data("image")&&""!=s.data("image")){icon=jQuery('<img src="'+s.data("image")+'">').addClass("ts-font-icon circle-image").attr("id",g+"-image").css({"font-size":P+"px",height:P+"px",width:P+"px","line-height":P+"px",margin:0!=p.length?"0 5px":0});F=!0}else{icon="";var F=!1}if(void 0!=s.data("type"))"half"==(K=s.data("type"))?t(s,"circle-text-half",u/1.45):t(s,"circle-text",u);else{K=a.type;t(s,"circle-text",u)}}void 0!=jQuery(this).data("info")&&0!=(c=s.data("info")).length&&(void 0!=jQuery(this).data("type")&&"half"==(K=s.data("type"))?i(s,.9):i(s,1.25)),jQuery(this).width(u+"px");var W=jQuery("<canvas></canvas>").attr({width:u,height:u}).appendTo(jQuery(this)).get(0),_=W.getContext("2d"),q=W.width/2,A=W.height/2,E=(d.percent,Math.PI,.4*W.width),G=.1*W.width,R=2.3*Math.PI,U=0,V=0===w?S:0,B=Math.max(w,0),D=V,H=2*Math.PI,J=Math.PI/2,K="",L=!0;void 0!=jQuery(this).data("type")&&"half"==(K=jQuery(this).data("type"))&&(R=2*Math.PI,U=3.13,H=1*Math.PI,J=Math.PI/.996,s.css("margin-bottom","-"+u/2+"px")),jQuery(this).attr("data-size",jQuery(this).parent().width());var N=g+"-value",O="true"==s.attr("data-viewport"),X="true"==s.attr("data-repeat"),Y="true"==s.attr("data-triggered"),Z=s.attr("data-offset"),$=(parseInt(s.attr("data-delay")),parseInt(s.attr("data-decimals"))),tt=s.attr("data-group"),et=s.attr("data-seperator");if(1==Y?o():1==O?s.on("inview",function(t,e,i,a){e?(s.addClass("ts-circliful-visible"),"top"==a?"top"==Z&&o():"bottom"==a?"bottom"==Z&&o():"full"==Z&&o()):s.removeClass("ts-circliful-visible")}):o(),1==f){var it=parseInt(s.parent().width()),at=parseInt(s.attr("data-size"));jQuery(window).on("debouncedresize",s,function(t){it=parseInt(s.parent().width()),at=parseInt(s.attr("data-size")),it!=at&&(s.attr("data-size",it),u=it>v?v:it,s.width(u+"px"),s.find(".circle-text").css({"line-height":u+"px"}),s.find("canvas").attr({width:u,height:u}),q=W.width/2,A=W.height/2,E=.4*W.width,G=.1*W.width,o(),jQuery(window).trigger("checkinview"))})}})}}(jQuery);