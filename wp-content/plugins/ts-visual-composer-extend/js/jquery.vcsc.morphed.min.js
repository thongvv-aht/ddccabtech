!function(t){"use strict";function i(i,s){this.element=t(i),this.settings=t.extend({},e,s),this._triggered=!1,this._defaults=e,this._waypoint=null,this._widthloop=0,this._widthcont=0,this._widthpre=0,this._widthpost=0,this._widthless=0,this._loops=0,this._prefix=null,this._postfix=null,this._switch=null,this._intervalSingle=null,this._intervalCounter=0,this._intervalArray=[],this._init()}var e={viewport:!0,wait:0,animateDual:!1,animateIn:"ts-viewport-css-fadeInUp",animateOut:"ts-viewport-css-fadeOutUp",speed:2e3,loops:0,widthEffect:!1,widthSpeed:300,switchTrigger:480,switchTitle:"",complete:t.noop};i.prototype={_init:function(){var t=this;this.element.parent().show(),this.children=this.element.children(),this._prefix=this.element.siblings(".ts-title-morphed-prefix"),this._postfix=this.element.siblings(".ts-title-morphed-postfix"),this._switch=this.element.siblings(".ts-title-morphed-switch"),this.settings.widthEffect?(this.element.addClass("morphist").css("width","0px"),this.element.width(this.children.eq(0).innerWidth()+"px")):this.element.addClass("morphist"),this.index=0,this.element.parent().width()<this.settings.switchTrigger&&(this._prefix.hide(),this._postfix.hide(),this.element.hide(),this._switch.show()),void 0!==jQuery.fn.waypoint&&1==this.settings.viewport?this._waypoint=this.element.waypoint({handler:function(i){setTimeout(function(){t.start();try{t.element.waypoint("destroy")}catch(t){}try{$this.destroy()}catch(t){}},t.settings.wait)},offset:"bottom-in-view",triggerOnce:!0}):setTimeout(function(){t.start()},this.settings.wait)},start:function(){var t=this;this.settings.widthEffect?setTimeout(function(){t.loop()},t.settings.widthSpeed):t.loop(),this._triggered=!0},loop:function(){var t=this;this.index+1==this.children.length&&this._loops++,this.element.css("width","auto"),this._widthcont=this.element.parent().width(),this._widthloop=this.children.eq(this.index).innerWidth(),this._widthpre=this._prefix.width(),this._widthpost=this._postfix.width(),this._widthless=this._widthcont-this._widthpre-this._widthpost,this.element.removeClass("ts-title-morphed-full"),this._widthloop>this._widthless&&this.element.addClass("ts-title-morphed-full"),this.settings.widthEffect?this._widthloop>this._widthless?this._animateNext():(this.element.width("0px"),this.element.animate({width:this._widthloop+"px"},this.settings.widthSpeed,function(){t._animateNext()})):this._animateNext()},stop:function(){this.clear()},clear:function(){(this._intervalArray.length>0||null!=this._intervalSingle)&&(jQuery.each(this._intervalArray,function(t,i){clearInterval(i)}),this._intervalArray=[],this._intervalSingle=null,this._intervalCounter=0)},_attachOutListener:function(t){var i=this;t.one("webkitAnimationEnd mozAnimationEnd MSAnimationEndoanimationend animationend",function(){i._manualOutListener(t)})},_manualOutListener:function(t){t.hasClass("mis-out")&&(t.removeClass(),this.index=++this.index%this.children.length,this.loop())},_animateNext:function(){var i=this;this._animateIn(),this.settings.loops>0&&this._loops==this.settings.loops?this.stop():(this._intervalSingle=setInterval(function(){if(i.element.parent().width()<i.settings.switchTrigger)return i._prefix.hide(),i._postfix.hide(),i.element.hide(),i._switch.show(),!1;if(i._switch.hide(),i._prefix.show(),i._postfix.show(),i.element.show(),!TS_VCSC_WindowAPI_Visible)return!1;i.clear();var t=i._animateOut();i.settings.animateDual?i._attachOutListener(t):i._manualOutListener(t)},this.settings.speed),this._intervalArray.push(this._intervalSingle),this._intervalCounter++,t.isFunction(this.settings.complete)&&this.settings.complete.call(this))},_animateIn:function(){return this.children.eq(this.index).addClass("animated mis-in "+this.settings.animateIn)},_animateOut:function(){var t=this.children.eq(this.index);return t.removeClass(),this.settings.animateIn===this.settings.animateOut&&t[0].offsetWidth,this.settings.animateDual?t.addClass("animated mis-out "+this.settings.animateOut):t.addClass("animated mis-out")}},t.fn.TS_VCSC_Morphist=function(e){return this.each(function(){t.data(this,"plugin_TS_VCSC_Morphist")||t.data(this,"plugin_TS_VCSC_Morphist",new i(this,e))})}}(jQuery);