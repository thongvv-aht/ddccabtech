function TS_VCSC_SleepTimer(t){for(var e=(new Date).getTime(),s=0;1e7>s&&!((new Date).getTime()-e>t);s++);}!function(t){"use strict";function e(e,s,i){this.settings=e,this.domObject=document.createElement("div"),this.spacing=s==i?0:this.settings.charSpacing,t(this.domObject).css("-webkit-transform-style","preserve-3d").css("-moz-transform-style","preserve-3d").css("-ms-transform-style","preserve-3d").css("-o-transform-style","preserve-3d").css("transform-style","preserve-3d").css("margin-right",this.spacing+"px").addClass("ts-splitflap-char"),this.upperObject=document.createElement("div"),this.lowerObject=document.createElement("div"),this.flippingObject=document.createElement("div"),t(this.upperObject).width(this.settings.charWidth).height(this.settings.charHeight>>1).css("background-image","url("+this.settings.image+")").addClass("upper"),t(this.lowerObject).width(this.settings.charWidth).height(this.settings.charHeight>>1).css("background-image","url("+this.settings.image+")").addClass("lower"),t(this.flippingObject).width(this.settings.charWidth).height(this.settings.charHeight>>1).css("background-image","url("+this.settings.image+")").css("position","absolute").css("left",0).css("top",0).hide().addClass("flipping"),t(this.domObject).append(this.upperObject),t(this.domObject).append(this.lowerObject),t(this.domObject).append(this.flippingObject)}function s(e){this.settings=e,this.domObject=document.createElement("div"),this.letters=new Array,t(this.domObject).addClass("ts-splitflap-letters")}if("undefined"==typeof i)var i=function(t,e){return function(){return t.apply(e,arguments)}};Date.now=Date.now||function(){return(new Date).getTime()},function(){for(var t=0,e=["ms","moz","webkit","o"],s=0;s<e.length&&!window.requestAnimationFrame;++s)window.requestAnimationFrame=window[e[s]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[s]+"CancelAnimationFrame"]||window[e[s]+"CancelRequestAnimationFrame"];void 0===window.requestAnimationFrame&&(window.requestAnimationFrame=function(e){var s=Date.now(),i=Math.max(0,16-(s-t)),n=window.setTimeout(function(){e(s+i)},i);return t=s+i,n}),window.cancelAnimationFrame=window.cancelAnimationFrame||function(t){window.clearTimeout(t)}}();var n=function(t,e){return function(){return t.apply(e,arguments)}},a=e.prototype;a.getDOMObject=function(){return this.domObject},a.setChar=function(e,s,i){"undefined"==typeof i&&(i=1);var n=this.settings.charsMap.indexOf(e);if(t(this.upperObject).css("background-position","-"+n*this.settings.charWidth+"px 0px"),i>=1)t(this.lowerObject).css("background-position","-"+n*this.settings.charWidth+"px -"+(this.settings.charHeight>>1)+"px"),t(this.flippingObject).hide();else if(0>=i){var a=this.settings.charsMap.indexOf(s);t(this.upperObject).css("background-position","-"+a*this.settings.charWidth+"px 0px"),t(this.lowerObject).css("background-position","-"+a*this.settings.charWidth+"px -"+(this.settings.charHeight>>1)+"px"),t(this.flippingObject).hide()}else{var a=this.settings.charsMap.indexOf(s);t(this.lowerObject).css("background-position","-"+a*this.settings.charWidth+"px -"+(this.settings.charHeight>>1)+"px");var r;.5>i?(r=180*i,t(this.flippingObject).css("top",0).css("z-index",Math.round(r)).css("-webkit-transform","rotateX(-"+r+"deg)").css("-moz-transform","rotateX(-"+r+"deg)").css("-ms-transform","rotateX(-"+r+"deg)").css("-o-transform","rotateX(-"+r+"deg)").css("transform","rotateX(-"+r+"deg)").css("-webkit-transform-origin","bottom center 0").css("-moz-transform-origin","bottom center 0").css("-ms-transform-origin","bottom center 0").css("-o-transform-origin","bottom center 0").css("transform-origin","bottom center 0").css("background-position","-"+a*this.settings.charWidth+"px 0px")):(r=180*(1-i),t(this.flippingObject).css("top",(this.settings.charHeight>>1)+"px").css("z-index",Math.round(r)).css("-webkit-transform","rotateX("+r+"deg)").css("-moz-transform","rotateX("+r+"deg)").css("-ms-transform","rotateX("+r+"deg)").css("-o-transform","rotateX("+r+"deg)").css("transform","rotateX("+r+"deg)").css("-webkit-transform-origin","top center 0").css("-moz-transform-origin","top center 0").css("-ms-transform-origin","top center 0").css("-o-transform-origin","top center 0").css("transform-origin","top center 0").css("background-position","-"+n*this.settings.charWidth+"px -"+(this.settings.charHeight>>1)+"px")),t(this.flippingObject).show()}};var r=s.prototype;r.getDOMObject=function(){return this.domObject},r.build=function(s,i){var n=t(this.domObject),a=s,r=i.width(),h=Math.floor(r/(this.settings.charWidth+this.settings.charSpacing)),o=Math.floor(a/h);if(n.find(".ts-splitflap-char").css("margin-right",this.settings.charSpacing+"px"),a*(this.settings.charWidth+this.settings.charSpacing)-this.settings.charSpacing<r)n.width(a*(this.settings.charWidth+this.settings.charSpacing)-this.settings.charSpacing);else if(h>a)n.width(a*(this.settings.charWidth+this.settings.charSpacing)-this.settings.charSpacing);else{for(var c=1,g=o;g>=c;c++)n.find(".ts-splitflap-char:eq("+(c*h-1)+")").css("margin-right","0px");n.width(h*(this.settings.charWidth+this.settings.charSpacing)-this.settings.charSpacing)}n.find(".ts-splitflap-char:eq("+(a-1)+")").css("margin-right","0px");for(var c=0;s>c;c++){var p=new e(this.settings,c+1,s),l=p.getDOMObject(),d=this.settings.text.charAt(c);t(l).css("position","relative"),t(l).attr("data-order",c),t(l).attr("data-letter",d),t(l).attr("data-index",this.settings.charsMap.indexOf(d)),t(this.domObject).append(l),this.letters[c]=p}},r.setText=function(t,e){var s;for("undefined"==typeof e?(e=t,s=!1):s=!0;e.length<this.letters.length;)"left"==this.settings.padDir?e+=this.settings.padChar:e=this.settings.padChar+e;for(var i=new String(e).split(""),n=0,a=this.letters.length;a>n;n++){var r=this.letters[n];r.setChar(i[n])}if(s){for(;t.length<this.letters.length;)"left"==this.settings.padDir?t+=this.settings.padChar:t=this.settings.padChar+t;var h=new String(t).split("");this.animation={time:(new Date).getTime(),letters:new Array};for(var n=0,a=this.letters.length;a>n;n++){for(var o={ratio:0,speed:this.settings.speed+Math.random()*this.settings.speedVariation,letters:new Array(i[n])},c=this.settings.charsMap.indexOf(i[n]);this.settings.charsMap.charAt(c)!=h[n];)c=(c+1)%this.settings.charsMap.length,o.letters.push(this.settings.charsMap.charAt(c));this.animation.letters[n]=o}this.settings.autoplay&&this.animate()}},r.delayText=function(t,e){for("undefined"==typeof e&&(e=t);e.length<this.letters.length;)"left"==this.settings.padDir?e+=this.settings.padChar:e=this.settings.padChar+e;for(var s=new String(e).split(""),i=0,n=this.letters.length;n>i;i++){var a=this.letters[i];a.setChar(s[i])}},r.animate=function(){var t=(new Date).getTime();"undefined"==typeof this.animation.time&&(this.animation.time=t);for(var e=.001*(t-this.animation.time),s=0,i=0,a=this.animation.letters.length;a>i;i++){var r=this.letters[i],h=this.animation.letters[i];h.letters.length>1&&(h.ratio+=h.speed*e,h.ratio>1&&h.letters.length>1&&(h.ratio=0,h.letters.shift())),h.letters.length>1?(r.setChar(h.letters[1],h.letters[0],h.ratio),s++):r.setChar(h.letters[0])}this.animation.time=t,s>0&&requestAnimationFrame(n(this.animate,this))},t.fn.TS_VCSC_SplitFlap=function(e){if("splitflap"==e){if(this.length<0)return!1;var i=this.get(0);return"undefined"==typeof i.splitflap?!1:i.splitflap}var n=t.extend({text:"",textInit:"",textFill:" ",textEqual:!0,textDots:!0,delay:0,autoplay:!0,restart:!0,language:"latin",image:"images/ts-flipflap-chars-large.png",charsMap:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789.,!?#@()+-=",charWidth:50,charHeight:100,charSpacing:0,padDir:"left",padChar:" ",speed:3,speedVariation:2},e);return this.each(function(){var e=t(this),i=new String(n.text).toUpperCase();""==i&&(i=new String(e.html()).toUpperCase());for(var a=i.length,r=0,h=i.length;h>r;r++){var o=i.charAt(r);n.charsMap.indexOf(o)<0&&(i=i.replace(o,n.charSubstitute))}if(n.textEqual&&""!=n.textInit){var c=n.textInit.toUpperCase();i.length<c.length&&(c=c.substr(0,i.length),1==n.textDots&&(c=c.slice(0,-3)+"..."));var g=c.length}else var c=n.textInit.toUpperCase(),g=c.length;for(var r=0,h=c.length;h>r;r++){var o=c.charAt(r);n.charsMap.indexOf(o)<0&&(c=c.replace(o,n.charSubstitute))}if(c.length<i.length)for(;c.length<i.length;)c+=""!=n.textFill&&""!=n.textInit?n.textFill:n.charsMap.charAt(Math.floor(n.charsMap.length*Math.random()));else for(;i.length<c.length;)i+=""!=n.textFill?n.textFill:n.charsMap.charAt(Math.floor(n.charsMap.length*Math.random()));var p=new s(n);p.build(i.length,e),e.empty().append(p.getDOMObject()),this.splitflap=p,n.delay>0?(n.autoplay=!0,p.delayText(i,c),setTimeout(function(){p.setText(i,c,!0),n.restart&&e.off().on("mousedown touchend",function(){p.delayText(i,c),setTimeout(function(){p.setText(i,c,!0)},n.delay)})},n.delay)):(p.setText(i,c,!1),0==n.autoplay?e.on("mousedown touchend",function(){n.autoplay=!0,e.TS_VCSC_SplitFlap("splitflap").animate(),e.off().on("mousedown touchend",function(){p.setText(i,c,!1)})}):n.restart&&e.on("mousedown touchend",function(){p.setText(i,c,!1)})),jQuery(window).on("debouncedresize",function(){var t=e.find(".ts-splitflap-letters"),s=a>=g?a:g,i=e.width(),r=Math.floor(i/(n.charWidth+n.charSpacing)),h=Math.floor(s/r);if(t.find(".ts-splitflap-char").css("margin-right",n.charSpacing+"px"),s*(n.charWidth+n.charSpacing)-n.charSpacing<i)t.width(s*(n.charWidth+n.charSpacing)-n.charSpacing);else if(r>s)t.width(s*(n.charWidth+n.charSpacing)-n.charSpacing);else{for(var o=1,c=h;c>=o;o++)t.find(".ts-splitflap-char:eq("+(o*r-1)+")").css("margin-right","0px");t.width(r*(n.charWidth+n.charSpacing)-n.charSpacing)}t.find(".ts-splitflap-char:eq("+(s-1)+")").css("margin-right","0px")})})}}(jQuery);