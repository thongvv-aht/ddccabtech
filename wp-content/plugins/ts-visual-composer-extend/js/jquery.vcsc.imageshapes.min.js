!function(t){jQuery.fn.TS_VCSC_RoundImage=function(){return this.each(function(){var t=jQuery(this),a=t.width(),s=t.height(),e=a/s;imageOffsetX=0,imageOffsetY=0,imageSource=t.attr("src"),svgWidth=a,svgHeight=s,e>1?(imageOffsetX=(a*e-a)/2*-1,a*=e,s*=e):1>e&&(e=1,imageOffsetY=0,svgHeight=svgWidth),radius=a/2,uniqId=function(){return Math.round((new Date).getTime()+100*Math.random())},svgClipPathId=uniqId(),t.before('<svg class="ts-lightbox-shape-svg" width="'+svgWidth+'" height="'+svgWidth+'"><clipPath id="'+svgClipPathId+'"><circle r="'+radius+'" cx="'+svgWidth/2+'" cy="'+svgHeight/2+'"/></clipPath><image clip-path="url(#'+svgClipPathId+')" xlink:href="'+imageSource+'" x="'+imageOffsetX+'" y="'+imageOffsetY+'" src="'+imageSource+'" width="'+a+'" height="'+s+'"></image></svg>')})},t(document).ready(function(){function t(){jQuery(".ts-lightbox-shape-holder").each(function(){var t=jQuery(this),a=t.attr("data-effect"),s=t.closest(".ts-lightbox-shape-container"),e=t.closest(".ts-lightbox-shape-padding"),h=t.find(".ts-lightbox-shape-inner"),i=t.find(".ts-lightbox-shape-caption"),o=(t.find("img.ts-lightbox-shape-loader"),t.find("img.ts-lightbox-shape-image"));t.removeClass(a),o.removeAttr("style"),"ts-lightbox-shape-losange"==a||"ts-lightbox-shape-diamond"==a?(t.css({width:"100%",height:"100%"}),h.css({width:"100%",height:"100%"}),e.css({"padding-top":"0px","padding-bottom":"0px"}),h.css({"-webkit-transform":"rotate(-45deg)","-moz-transform":"rotate(-45deg)",transform:"rotate(-45deg)"}),i.css({"-webkit-transform":"translateY(0px)","-moz-transform":"translateY(0px)",transform:"translateY(0px)"}),o.css({display:"block",width:s.width()+"px","max-width":"100%",height:"auto",left:"auto",top:"auto"})):("ts-lightbox-shape-circle"==a||"ts-lightbox-shape-hexagon"==a||"ts-lightbox-shape-octagon"==a)&&(t.css({width:"100%",height:"100%",left:"auto"}),o.css({display:"block",width:s.width()+"px","max-width":"100%",left:"auto",top:"auto"}),"ts-lightbox-shape-circle"==a&&t.find(".ts-lightbox-shape-svg").remove());var r=s.width(),p=(s.height(),o.width()),g=o.height(),n=p,d=p/g;if(1>d&&(d=1),t.addClass(a),"ts-lightbox-shape-losange"==a||"ts-lightbox-shape-diamond"==a)var x=n*Math.abs(Math.cos(0))+n*Math.abs(Math.sin(0)),l=n*Math.abs(Math.cos(90))+n*Math.abs(Math.sin(90)),c=l/x,f=l-x,m=f/2;else if("ts-lightbox-shape-circle"==a)var x=r*Math.abs(Math.cos(0))+r*Math.abs(Math.sin(0)),l=r*Math.abs(Math.cos(0))+r*Math.abs(Math.sin(0))-20,c=l/x,f=l-x,m=f/2;else if("ts-lightbox-shape-hexagon"==a)var x=r*Math.abs(Math.cos(0))+r*Math.abs(Math.sin(0)),l=r*Math.abs(Math.cos(120))+r*Math.abs(Math.sin(120))-20,c=l/x,f=l-x,m=f/2;else if("ts-lightbox-shape-octagon"==a)var x=r*Math.abs(Math.cos(0))+r*Math.abs(Math.sin(0)),l=r*Math.abs(Math.cos(45))+r*Math.abs(Math.sin(45))+20,c=l/x,f=l-x,m=f/2;"ts-lightbox-shape-losange"==a?(t.css({width:x/c-20+"px",height:x/c-20+"px"}),h.css({width:x+20+"px",height:x+20+"px"}),e.css({"padding-top":m+"px","padding-bottom":m+"px"}),h.css({"-webkit-transform":"rotate(-45deg) translateY(-"+(40+m)+"px)","-moz-transform":"rotate(-45deg) translateY(-"+(40+m)+"px)",transform:"rotate(-45deg) translateY(-"+(40+m)+"px)"}),o.css(d>1?{height:x+20+"px",width:(x+20)*d+"px","max-width":(x+20)*d+"px",left:"-"+((x+20)*d-(x+20))/2+"px"}:{width:(l+f)/2+f+"px","max-width":(l+f)/2+f+"px",left:"-"+((l+f)/2+f-(x+20))/2+"px"})):"ts-lightbox-shape-diamond"==a?(t.css({width:x/c+m/2+"px",height:x/c+m/2+"px","-webkit-transform":"rotate(45deg) translateY(-"+m+"px) translateX(-"+m+"px)","-moz-transform":"rotate(45deg) translateY(-"+m+"px) translateX(-"+m+"px)",transform:"rotate(45deg) translateY(-"+m+"px) translateX(-"+m+"px)"}),h.css({width:x+"px",height:x+"px"}),e.css({"padding-top":m+"px","padding-bottom":"0px","margin-bottom":"-"+m/2+"px"}),h.css({"-webkit-transform":"rotate(-45deg)","-moz-transform":"rotate(-45deg)",transform:"rotate(-45deg)"}),i.css({"-webkit-transform":"translateY(-"+m/4+"px)","-moz-transform":"translateY(-"+m/4+"px)",transform:"translateY(-"+m/4+"px)"}),o.css(d>1?{height:x+"px",width:x*d+"px","max-width":x*d+"px",left:"-"+(x*d-x)/2+"px"}:{width:(l+f)/2+f+"px","max-width":(l+f)/2+f+"px",left:"-"+((l+f)/2+f-x)/2+"px"})):"ts-lightbox-shape-circle"==a?(t.css({width:x+"px",height:x+"px"}),h.css({width:x+"px",height:x+"px"}),o.css(d>1?{width:x+"px","max-width":x+"px"}:{width:x+"px","max-width":x+"px"}),o.attr("data-width-current",x),setTimeout(function(){o.TS_VCSC_RoundImage()},250)):("ts-lightbox-shape-hexagon"==a||"ts-lightbox-shape-octagon"==a)&&(t.css({width:l+f+"px",height:(l+f)/2+"px",left:"-"+f+"px"}),o.css(d>1?{width:(l+f)/2*d+"px",left:(l+f-(l+f)/2*d)/2+"px"}:{width:(l+f)/2+f+"px",left:(l+f)/2+f-(l+f)/2+(r-((l+f)/2+f))/2+"px",top:"-"+f/2+"px"}))})}jQuery(window).on("debouncedresize",function(){t()})})}(jQuery);