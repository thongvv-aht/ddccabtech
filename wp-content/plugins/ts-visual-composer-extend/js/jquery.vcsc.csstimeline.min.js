!function(e){function t(e,t,s){return jQuery(jQuery(e).toArray().sort(function(e,i){var a=parseInt(e.getAttribute(t)),n=parseInt(i.getAttribute(t));return"asc"==s?a-n:n-a}))}e(document).ready(function(){jQuery(".ts-timeline-css-container").each(function(){{var e=jQuery(this),s="true"==e.attr("data-frontend")?!0:!1,i="true"==e.attr("data-iframewrap")?!0:!1,a=e.attr("data-type"),n=e.find(".ts-timeline-css-wrapper"),r=(e.find(".ts-timeline-css-preloader"),e.attr("data-order")),l=n.find(".ts-timeline-css-content"),c=l.find(".ts-timeline-css-section");l.find(".ts-timeline-css-spine"),c.length}!s&&i&&c.find(".ts-timeline-css-text iframe").each(function(){jQuery(this).attr("width","100%").attr("height","auto"),jQuery(this).wrap('<div class="ts-video-container"/>')}),"posts"==a&&("asc"==r?jQuery.each(t(c,"data-start","asc"),function(e,t){l.append(t)}):"desc"==r&&jQuery.each(t(c,"data-end","desc"),function(e,t){l.append(t)}))})}),jQuery(window).load(function(){jQuery(".ts-timeline-css-container").each(function(){function s(e){var t=(o.find(".ts-timeline-css-section").length,0);o.find(".ts-timeline-css-section").each(function(){"false"==jQuery(this).attr("data-filtered-categories")&&"false"==jQuery(this).attr("data-filtered-tags")?(t++,jQuery(this).removeClass("ts-timeline-css-filtered").addClass("ts-timeline-css-visible")):jQuery(this).removeClass("ts-timeline-css-visible").addClass("ts-timeline-css-filtered")}),0!=t||e||(O&&(Y[0].sumo.selectAll(),Y.trigger("change")),V&&(it[0].sumo.selectAll(),it.trigger("change"))),t>0?(m.hide(),D&&lt[0].sumo.enable()):(m.show(),D&&lt[0].sumo.disable()),r()}function i(){var e=u.find(".ts-timeline-css-section.ts-timeline-css-visible").length+W;v>=e?u.find(".ts-timeline-css-section:lt("+e+")").addClass("ts-timeline-css-visible").removeClass("ts-timeline-css-hidden").fadeIn():(f.fadeIn().addClass("ts-timeline-css-visible").removeClass("ts-timeline-css-hidden"),"desc"==Q&&w.fadeIn(),E.hide()),setTimeout(function(){r()},750)}function a(){l.width("100%"),f.each(l.outerWidth()<=p?function(){jQuery(this).hasClass("ts-timeline-css-fullwidth")&&(jQuery(this).find(".ts-timeline-css-fullwidth-colA").addClass("no-columns"),jQuery(this).find(".ts-timeline-css-fullwidth-colB").addClass("no-columns"))}:function(){jQuery(this).hasClass("ts-timeline-css-fullwidth")&&(jQuery(this).find(".ts-timeline-css-fullwidth-colA").removeClass("no-columns"),jQuery(this).find(".ts-timeline-css-fullwidth-colB").removeClass("no-columns"))}),setTimeout(function(){k.each(function(){if(jQuery(this).hasClass("ts-timeline-css-icon-half")){if(jQuery(this).next().hasClass("ts-timeline-css-text-wrap-inner")){var e=(parseInt(jQuery(this).next().outerHeight(!0))-parseInt(jQuery(this).outerHeight(!0)))/2;jQuery(this).animate({top:e+"px"},500)}}else if(jQuery(this).prev().hasClass("ts-timeline-css-text-wrap-inner")){var e=(parseInt(jQuery(this).prev().outerHeight(!0))-parseInt(jQuery(this).outerHeight(!0)))/2;jQuery(this).animate({top:e+"px"},500)}})},250)}function n(){o.find(".ts-timeline-css-section.ts-timeline-css-visible").each(function(e,t){jQuery(t).addClass("ts-timeline-css-order-"+Q).attr("data-item",e).attr("data-order",Q),jQuery(t).attr("data-height",jQuery(t).height())})}function r(){if("ts-timeline-css-columns"==g){var e=0,t=0,s=0,i=0,a=0,n=32,r=!1,c="left",d=0;o.find(".ts-timeline-css-section.ts-timeline-css-visible").each(function(i,n){jQuery(n).attr("data-height",jQuery(n).height()),s=jQuery(n).height(),S&&o.hasClass("ts-timeline-css-columns")?jQuery(n).hasClass("ts-timeline-css-event")?(d++,c=1==d||1==r?"ts-timeline-css-event-"+x:"ts-timeline-css-event-left"==c?"ts-timeline-css-event-right":"ts-timeline-css-event-left",jQuery(n).alterClass("ts-timeline-css-event-*",c),jQuery(n).css("margin-top",a+"px"),a=s,r=!1):(e=0,t=0,a=0,r=!0):jQuery(n).hasClass("ts-timeline-css-event")?(jQuery(n).removeAttr("style"),"left"==x?t>e?(jQuery(n).alterClass("ts-timeline-css-event-*","ts-timeline-css-event-right"),e+=s):(jQuery(n).alterClass("ts-timeline-css-event-*","ts-timeline-css-event-left"),t+=s):t>e?(jQuery(n).alterClass("ts-timeline-css-event-*","ts-timeline-css-event-left"),e+=s):(jQuery(n).alterClass("ts-timeline-css-event-*","ts-timeline-css-event-right"),t+=s)):(e=0,t=0)}),a=0,o.find(".ts-timeline-css-section.ts-timeline-css-visible").each(function(e,t){i=jQuery(t).offset(),S&&o.hasClass("ts-timeline-css-columns")?jQuery(t).hasClass("ts-timeline-css-event")&&(jQuery(t).attr("data-offset",i.top),a=i.top):jQuery(t).hasClass("ts-timeline-css-event")&&(jQuery(t).attr("data-offset",i.top),"left"==x?a+n>i.top&&jQuery(t).hasClass("ts-timeline-css-event-right")?jQuery(t).addClass("ts-timeline-css-event-right-offset"):jQuery(t).removeClass("ts-timeline-css-event-right-offset"):a+n>i.top&&jQuery(t).hasClass("ts-timeline-css-event-left")?jQuery(t).addClass("ts-timeline-css-event-left-offset"):jQuery(t).removeClass("ts-timeline-css-event-left-offset"),a=i.top)})}y||(m.hide(),o.removeAttr("style"),h.show(),l.removeClass("ts-timeline-css-rendering"),y=!0)}var l=jQuery(this),c="true"==l.attr("data-frontend")?!0:!1,d=("true"==l.attr("data-iframewrap")?!0:!1,l.attr("data-type")),o=l.find(".ts-timeline-css-wrapper"),m=l.find(".ts-timeline-css-preloader"),u=o.find(".ts-timeline-css-content"),f=u.find(".ts-timeline-css-section"),h=u.find(".ts-timeline-css-spine"),v=f.length,y=!1,p=parseInt(l.attr("data-break")),g=l.attr("data-layout"),j=l.attr("data-switch"),Q=l.attr("data-order"),C=l.width(),w=l.find(".ts-timeline-css-footer-wrap"),b=l.find(".ts-timeline-css-header-wrap"),I=l.find(".ts-timeline-css-begin-top"),A=l.find(".ts-timeline-css-begin-bottom"),k=f.find(".ts-timeline-css-icon"),S="true"==l.attr("data-rowstacks")?!0:!1,x=l.attr("data-initial"),M="true"==l.attr("data-lazy")?!0:!1,D="true"==l.attr("data-sorter")?!0:!1,B="true"==l.attr("data-filter-multiple")?!0:!1,P="true"==l.attr("data-filter-deselect")?!0:!1,T="true"==l.attr("data-filter-allow")?!0:!1,_="true"==l.attr("data-filter-confirm")?!0:!1,H="true"==l.attr("data-filter-search")?!0:!1,O="true"==l.attr("data-filter-categories")?!0:!1,V="true"==l.attr("data-filter-tags")?!0:!1,W=parseInt(l.attr("data-count")),E=l.find(".ts-timeline-css-showmore"),F=l.find(".ts-timeline-css-title-wrapper"),$=l.attr("data-trigger"),R=(l.find(".ts-timeline-css-slickslider-container").length,l.attr("data-sumo-confirm")),z=l.attr("data-sumo-cancel"),N=l.attr("data-sumo-allselected"),q=l.attr("data-sumo-placeholder"),G=l.attr("data-sumo-searchcats"),J=l.attr("data-sumo-searchtags");if(T&&!c){var K=l.attr("data-filter-selected"),L=l.attr("data-filter-selectall");if(O)var U=l.attr("data-filter-nocats"),X=l.find(".ts-timeline-css-filters-cats"),Y=X.find("select"),Z=X.attr("data-target"),et=[];if(V)var tt=l.attr("data-filter-notags"),st=l.find(".ts-timeline-css-filters-tags"),it=st.find("select"),at=X.attr("data-target"),nt=[];o.find(".ts-timeline-css-section").each(function(){if(O){var e=jQuery(this).attr("data-categories");""!=e?jQuery.each(e.split(","),function(e,t){-1==jQuery.inArray(jQuery.trim(t),et)&&et.push(jQuery.trim(t))}):(jQuery(this).attr("data-categories",U),-1==jQuery.inArray(jQuery.trim(U),et)&&et.push(jQuery.trim(U)))}if(V){var t=jQuery(this).attr("data-tags");""!=t?jQuery.each(t.split(","),function(e,t){-1==jQuery.inArray(jQuery.trim(t),nt)&&nt.push(jQuery.trim(t))}):(jQuery(this).attr("data-tags",tt),-1==jQuery.inArray(jQuery.trim(tt),nt)&&nt.push(jQuery.trim(tt)))}}),O&&(et.length>0&&(et.sort(),jQuery.each(et,function(t,s){Y.append(B?e("<option></option>").attr("value",s).attr("selected","selected").attr("data-type","categories").text(s):e("<option></option>").attr("value",s).attr("data-type","categories").text(s))})),Y.SumoSelect({placeholder:q,csvDispCount:1,floatWidth:400,forceCustomRendering:!0,nativeOnDevice:["Android","BlackBerry","iPhone","iPad","iPod","Opera Mini","IEMobile","Silk"],outputAsCSV:!1,csvSepChar:",",okCancelInMulti:B?_:!1,triggerChangeCombined:!0,selectAll:B?!0:!1,selectAlltext:L,search:H,searchText:G,captionFormat:"{0} "+K,captionFormatAllSelected:N+" ({0})",locale:[R,z,L]}),X.show(),Y.on("change",function(){var e=Y.val();null==e&&!P&&B?(Y[0].sumo.selectAll(),Y.trigger("change")):("all"!=e||B?(null==e&&(e=[]),jQuery.isArray(e)||(e=e.split(",")),jQuery("#"+Z).find(".ts-timeline-css-section").each(function(){for(var t=jQuery(this).attr("data-categories").split(","),s=e.concat(t),i=s.sort(),a=[],n=0;n<s.length-1;n++)i[n+1]==i[n]&&a.push(i[n]);a.length>0?jQuery(this).attr("data-filtered-categories","false"):jQuery(this).attr("data-filtered-categories","true")})):jQuery("#"+Z).find(".ts-timeline-css-section").attr("data-filtered-categories","false"),s(P))})),V&&(nt.length>0&&(nt.sort(),jQuery.each(nt,function(t,s){it.append(B?e("<option></option>").attr("value",s).attr("selected","selected").attr("data-type","tags").text(s):e("<option></option>").attr("value",s).attr("data-type","tags").text(s))})),it.SumoSelect({placeholder:q,csvDispCount:1,floatWidth:400,forceCustomRendering:!0,nativeOnDevice:["Android","BlackBerry","iPhone","iPad","iPod","Opera Mini","IEMobile","Silk"],outputAsCSV:!1,csvSepChar:",",okCancelInMulti:B?_:!1,triggerChangeCombined:!0,selectAll:B?!0:!1,selectAlltext:L,search:H,searchText:J,captionFormat:"{0} "+K,captionFormatAllSelected:N+" ({0})",locale:[R,z,L]}),st.show(),it.on("change",function(){var e=it.val();null==e&&!P&&B?(it[0].sumo.selectAll(),it.trigger("change")):("all"!=e||B?(null==e&&(e=[]),jQuery.isArray(e)||(e=e.split(",")),jQuery("#"+at).find(".ts-timeline-css-section").each(function(){for(var t=jQuery(this).attr("data-tags").split(","),s=e.concat(t),i=s.sort(),a=[],n=0;n<s.length-1;n++)i[n+1]==i[n]&&a.push(i[n]);a.length>0?jQuery(this).attr("data-filtered-tags","false"):jQuery(this).attr("data-filtered-tags","true")})):jQuery("#"+Z).find(".ts-timeline-css-section").attr("data-filtered-tags","false"),s(P))}))}if(C>p&&"ts-timeline-css-columns"==g?o.find(".ts-timeline-css-event.ts-timeline-css-visible").each(function(e,t){var s=e%2==0?"ts-timeline-css-event-left":"ts-timeline-css-event-right";jQuery(t).addClass(s)}):p>C&&"ts-timeline-css-columns"==g&&(o.alterClass("ts-timeline-css-*",j),f.each(function(){jQuery(this).hasClass("ts-timeline-css-break")&&jQuery(this).css("width","100%")})),"asc"==Q?(b.fadeIn(),A.fadeIn()):I.fadeIn(),W>v&&(M=!1),M&&!c?(f.removeClass("ts-timeline-css-visible").hide(),u.find(".ts-timeline-css-section:lt("+W+")").addClass("ts-timeline-css-visible").removeClass("ts-timeline-css-hidden").fadeIn(),1==TS_VCSC_MobileDevice&&($="click"),E.on("click",i)):(f.fadeIn().addClass("ts-timeline-css-visible").removeClass("ts-timeline-css-hidden"),"desc"==Q&&w.fadeIn(),E.hide()),M&&"scroll"==$&&!c&&E.bind("inview",function(e,t,s,a){if(t){var n=jQuery(this);"top"==a||"bottom"==a||(n.addClass("ts-timeline-css-showmore-visible"),setTimeout(function(){i()},500))}else{var n=jQuery(this);n.removeClass("ts-timeline-css-showmore-visible")}}),D&&!c){var rt=l.find(".ts-timeline-css-sorter"),lt=rt.find("select"),ct=rt.attr("data-target");lt.SumoSelect({csvDispCount:1,captionFormat:"{0} "+K,floatWidth:400,forceCustomRendering:!0,nativeOnDevice:["Android","BlackBerry","iPhone","iPad","iPod","Opera Mini","IEMobile","Silk"],outputAsCSV:!1,csvSepChar:",",okCancelInMulti:!1,triggerChangeCombined:!0,selectAll:!1}),rt.show(),lt.on("change",function(){var e=lt.val();null==e?(lt[0].sumo.selectItem(1),lt.trigger("change")):jQuery("#"+ct).find(".ts-timeline-css-section").each(function(){"asc"==e?(A.fadeIn(),b.fadeIn(),I.hide(),w.hide(),$direction="asc",l.attr("data-order",$direction),l.alterClass("ts-timeline-css-container-*","ts-timeline-css-container-asc"),f.alterClass("ts-timeline-css-order-*","ts-timeline-css-order-asc").attr("data-order","asc"),"timeline"==d?jQuery.each(t(f,"data-item","asc"),function(e,t){u.append(t)}):"posts"==d&&jQuery.each(t(f,"data-start","asc"),function(e,t){u.append(t)})):"desc"==e&&(A.hide(),b.hide(),I.fadeIn(),w.fadeIn(),$direction="desc",l.attr("data-order",$direction),l.alterClass("ts-timeline-css-container-*","ts-timeline-css-container-desc"),f.alterClass("ts-timeline-css-order-*","ts-timeline-css-order-desc").attr("data-order","desc"),"timeline"==d?jQuery.each(t(f,"data-item","desc"),function(e,t){u.append(t)}):"posts"==d&&jQuery.each(t(f,"data-end","desc"),function(e,t){u.append(t)})),r()})})}c||(r(),n(),a()),c||jQuery(this).find(".ts-timeline-css-imageslider-container").each(function(){var e=jQuery(this),t=(e.attr("data-parents"),parseInt(e.attr("data-items"))),s=e.find(".ts-timeline-css-imageslider-slides"),i=e.find(".ts-timeline-css-imageslider-item"),a=e.find(".ts-timeline-css-imageslider-dot"),n=e.find(".ts-timeline-css-imageslider-next"),l=e.find(".ts-timeline-css-imageslider-prev"),c=0,d=c+1,o=t,m=!1;if(n.on("click",function(){m=!0,d=c+1>t-1?0:c+1,i.removeClass("ts-timeline-css-slider-view-active").addClass("ts-timeline-css-slider-view-hidden").css("display","none"),a.removeClass("ts-timeline-css-imageslider-dotactive"),e.find(".ts-timeline-css-imageslider-item[data-order='"+d+"']").show().alterClass("ts-timeline-css-slider-view-*","ts-timeline-css-slider-view-active"),e.find(".ts-timeline-css-imageslider-dot[data-order='"+d+"']").addClass("ts-timeline-css-imageslider-dotactive"),c=d,r(),m=!1}),l.on("click",function(){m=!0,o=0>c-1?t-1:c-1,i.removeClass("ts-timeline-css-slider-view-active").addClass("ts-timeline-css-slider-view-hidden").css("display","none"),a.removeClass("ts-timeline-css-imageslider-dotactive"),e.find(".ts-timeline-css-imageslider-item[data-order='"+o+"']").show().alterClass("ts-timeline-css-slider-view-*","ts-timeline-css-slider-view-active"),e.find(".ts-timeline-css-imageslider-dot[data-order='"+o+"']").addClass("ts-timeline-css-imageslider-dotactive"),c=o,r(),m=!1}),a.on("click",function(){c=parseInt(jQuery(this).attr("data-order")),a.removeClass("ts-timeline-css-imageslider-dotactive"),i.removeClass("ts-timeline-css-slider-view-active").addClass("ts-timeline-css-slider-view-hidden").css("display","none"),e.find(".ts-timeline-css-imageslider-item[data-order='"+c+"']").show().alterClass("ts-timeline-css-slider-view-*","ts-timeline-css-slider-view-active"),jQuery(this).addClass("ts-timeline-css-imageslider-dotactive"),r()}),"ontouchstart"in document.documentElement||1==TS_VCSC_MobileDevice)if(1==$TS_VCSC_Hammer_ReleaseNew){var u=document.getElementById(e.attr("id")),f=new Hammer(u,{prevent_default:!0});f.on("swipeleft",function(e){return e.preventDefault(),m||n.trigger("click"),!1}).on("swiperight",function(e){return e.preventDefault(),m||l.trigger("click"),!1})}else{var u=new Hammer(s,"");u.on("swipeleft",function(){return m||n.trigger("click"),!1}),u.on("swiperight",function(){return m||l.trigger("click"),!1})}}),c||jQuery(window).on("debouncedresize",function(){g=l.attr("data-layout"),C=l.width(),C-F.find(".ts-timeline-css-title-after").outerWidth()<F.find(".ts-timeline-css-title-string").outerWidth()?F.find(".ts-timeline-css-title-after").hide():F.find(".ts-timeline-css-title-after").show(),p>C&&"ts-timeline-css-columns"==g?(o.alterClass("ts-timeline-css-*",j),f.each(function(){jQuery(this).hasClass("ts-timeline-css-break")&&jQuery(this).css("width","100%")})):C>p&&"ts-timeline-css-columns"==g&&(o.alterClass("ts-timeline-css-*","ts-timeline-css-columns"),f.each(function(){jQuery(this).hasClass("ts-timeline-css-break")&&"false"==jQuery(this).attr("data-fullwidth")&&jQuery(this).css("width","50%")})),o.addClass("ts-timeline-css-wrapper"),a(),"ts-timeline-css-columns"==g&&setTimeout(function(){r()},750)})})})}(jQuery);